

<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Datadog-AWS Integration</title>
    

    <meta itemprop="description" name="description" property="og:description" content="" />

    <link href="//fonts.googleapis.com/css?family=Open+Sans:700" rel="stylesheet" type="text/css">
    <link href="/static/css/bootstrap3-cbdde23cd71.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/tipuesearch.css">
    <link href="/static/css/style-cba6fad8d5d.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/static/pygments.css" media="screen">


    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>


    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21102638-5']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <script src="https://use.fontawesome.com/700fac0342.js"></script>
    
  </head>

  <body>
    <!-- HEADER -->
<div class="navbar navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#topmenu" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand " href="/">
        <img src="/static/dd_docs_logo.png">
      </a>
    </div>
    <div class="collapse navbar-collapse" id="topmenu">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Guides <span class="caret"></span></a>
          <ul class="dropdown-menu">
          
            
              <li>
                <a href="/guides/basic_agent_usage/">Getting Started with the Agent</a>
              </li>
              
              <li>
                <a href="/guides/overview/">Datadog Overview</a>
              </li>
              
              <li>
                <a href="/guides/hostmap/">Host Map Overview</a>
              </li>
              
              <li>
                <a href="/guides/integration_sdk/">Creating New Integrations</a>
              </li>
              
              <li>
                <a href="/guides/installcoreextra/">Installing Core & Extra Integrations</a>
              </li>
              
              <li>
                <a href="/guides/eventcorrelation/">Correlating Events with Metrics</a>
              </li>
              
              <li>
                <a href="/guides/metrics/">Sending Metrics with DogStatsD</a>
              </li>
              
              <li>
                <a href="/guides/logs/">Log Parsing in the Agent</a>
              </li>
              
              <li>
                <a href="/guides/testing/">Testing Integrations</a>
              </li>
              
              <li>
                <a href="/guides/agent_checks/">Writing an Agent Check</a>
              </li>
              
              <li>
                <a href="/guides/chef/">Deploying the Agent with Chef</a>
              </li>
              
              <li>
                <a href="/guides/azure/">Deploying the Datadog Agent to Azure</a>
              </li>
              
              <li>
                <a href="/guides/monitors/">Guide to Monitors</a>
              </li>
              
              <li>
                <a href="/guides/composite_monitors/">Guide to Composite Monitors</a>
              </li>
              
              <li>
                <a href="/guides/markdown/">Using Markdown in Datadog events</a>
              </li>
              
              <li>
                <a href="/guides/autodiscovery/">Guide to using Autodiscovery with Docker</a>
              </li>
              
              <li>
                <a href="/guides/tagging/">Guide to Tagging</a>
              </li>
              
              <li>
                <a href="/guides/templating/">Guide to Dashboard Templating</a>
              </li>
              
              <li>
                <a href="/guides/saml/">Single Sign On With SAML</a>
              </li>
              
              <li>
                <a href="/guides/eventsemail/">Events via Email</a>
              </li>
              
              <li>
                <a href="/guides/new_integration/">Officially Integrating with Datadog</a>
              </li>
              
              <li>
                <a href="/guides/anomalies/">Anomaly Detection</a>
              </li>
              
              <li>
                <a href="/guides/outliers/">Outlier Detection</a>
              </li>
              
              <li>
                <a href="/guides/multiaccountorg/">Configuring Teams & Organizations with Multiple Accounts</a>
              </li>
              
          </ul>
        </li>
        <li class="dropdown">
          <a id="nav-reference-dropdown" href="#" role="button" class="dropdown-toggle" data-toggle="dropdown">References <b class="caret"></b></a>
          <ul class="dropdown-menu dropdown-menu-left" role="menu" aria-labelledby="nav-guide-dropdown">
            <li><a href="/api/">API</a></li>
            <li><a href="/tracing/">Tracing (APM)</a></li>
            <li><a href="/libraries/">Libraries</a></li>
            <li><a href="/monitoring/">Monitoring</a></li>
            <li><a href="/graphing/">Graphing</a></li>
            <li><a href="/graphingjson/">Graphing using JSON</a></li>
            <li><a href="/hostnames/">Host Names</a></li>
            <li><a href="/integrations/">Integrations</a></li>
            <li><a href="/guides/dogstatsd/">DogStatsD</a></li>
            <li><a href="/examples/">Examples</a></li>
            <li><a href="/videos/">Videos</a></li>
            <li><a href="/guides/billing/">Billing</a></li>
            <li><a href="/faq/">FAQ</a></li>
          </ul>
        </li>
        
        <li class="hidden-sm hidden-md hidden-lg">
          <form class="navbar-form navbar-left" role="search" action="/search/">
            <div class="form-group">
              <input type="text" name="q" id="tipue_search_input" required class="form-control" placeholder="Search">
            </div>
          </form>
        </li>
        
        <li><a href="/help/">Help</a></li>
        <li id="signin">
          <a class="btn navbar-btn flexbutton blueflex" href="https://app.datadoghq.com/signup">Free Trial</a>
        </li>
        <li id="signup">
          <a class="btn navbar-btn flexbutton" href="https://help.datadoghq.com/hc/en-us/signin?return_to=https%3A%2F%2Fhelp.datadoghq.com%2Fhc%2Fen-us&locale=1">Support Login</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- END HEADER -->

    <div class="container">
      <div class="row">
        <!-- SIDEBAR -->
        <div class="col-sm-3 col-xs-12" id="sidebarcolumn">
          <ul class="nav nav-tabs nav-stacked sidebar">
            
            <li class="nav-header hidden-xs">Documentation Search</li>
            <li class="hidden-xs">
              <form action="/search/">
                <input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
              </form>
            </li>
            
            <li class='nav-header'>Table of Contents</li><li><a style='' href='#overview' onclick="$('#').collapse('show')">
Overview</a></li><li><a style='' href='#installation' onclick="$('#').collapse('show')">
Installation</a></li><li><a style='' href='#configuration' onclick="$('#').collapse('show')">
Configuration</a></li><li><a style='padding: 5px 25px;' href='#configuration-for-china-and-govcloud' onclick="$('#').collapse('show')">
Configuration for China and GovCloud</a></li><li><a style='' href='#metrics' onclick="$('#').collapse('show')">
Metrics</a></li><li><a style='' href='#permissions' onclick="$('#').collapse('show')">
Permissions</a></li><li><a style='padding: 5px 25px;' href='#autoscaling' onclick="$('#').collapse('show')">
Autoscaling</a></li><li><a style='padding: 5px 25px;' href='#billing' onclick="$('#').collapse('show')">
Billing</a></li><li><a style='padding: 5px 25px;' href='#cloudtrail' onclick="$('#').collapse('show')">
CloudTrail</a></li><li><a style='padding: 5px 25px;' href='#dynamodb' onclick="$('#').collapse('show')">
DynamoDB</a></li><li><a style='padding: 5px 25px;' href='#ec2' onclick="$('#').collapse('show')">
EC2</a></li><li><a style='padding: 5px 25px;' href='#ecs' onclick="$('#').collapse('show')">
ECS</a></li><li><a style='padding: 5px 25px;' href='#elasticache' onclick="$('#').collapse('show')">
Elasticache</a></li><li><a style='padding: 5px 25px;' href='#elb' onclick="$('#').collapse('show')">
ELB</a></li><li><a style='padding: 5px 25px;' href='#emr' onclick="$('#').collapse('show')">
EMR</a></li><li><a style='padding: 5px 25px;' href='#es' onclick="$('#').collapse('show')">
ES</a></li><li><a style='padding: 5px 25px;' href='#kinesis' onclick="$('#').collapse('show')">
Kinesis</a></li><li><a style='padding: 5px 25px;' href='#cloudwatch-logs-and-lambda' onclick="$('#').collapse('show')">
CloudWatch Logs and Lambda</a></li><li><a style='padding: 5px 25px;' href='#rds' onclick="$('#').collapse('show')">
RDS</a></li><li><a style='padding: 5px 25px;' href='#route53' onclick="$('#').collapse('show')">
Route53</a></li><li><a style='padding: 5px 25px;' href='#s3' onclick="$('#').collapse('show')">
S3</a></li><li><a style='padding: 5px 25px;' href='#ses' onclick="$('#').collapse('show')">
SES</a></li><li><a style='padding: 5px 25px;' href='#sns' onclick="$('#').collapse('show')">
SNS</a></li><li><a style='padding: 5px 25px;' href='#sqs' onclick="$('#').collapse('show')">
SQS</a></li><li><a style='padding: 5px 25px;' href='#support' onclick="$('#').collapse('show')">
Support</a></li><li><a style='' href='#troubleshooting' onclick="$('#').collapse('show')">
Troubleshooting</a></li>

            <li class="nav-header auto">Other Integrations <span class="toggle visible-xs-inline">(<a href="#toggleIntegrations" data-toggle="collapse">Toggle to show integrations</a>)<br></span></li>
            <div class="collapse div-collapse" id="toggleIntegrations">
              <li><a href="/integrations/">Back to Overview</a></li>
              
                
              
              
                
                
                
                  <li><a href="/integrations/activemq/">ActiveMQ</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/airbrake/">Airbrake *</a></li>
                
              
                
                
                
                  <li class='selected_integration'>
                    <a href="#">> Amazon Web Services</a>
                  </li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/ansible/">Ansible *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/apache/">Apache</a></li>
                
              
                
                
                
                  <li><a href="/integrations/kafka/">Apache Kafka</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsapigateway/">AWS API Gateway</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsautoscaling/">AWS Auto Scaling</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/awsbilling/">AWS Billing *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awscloudfront/">AWS CloudFront</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awscloudsearch/">AWS CloudSearch</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awscloudtrail/">AWS CloudTrail</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsdynamo/">AWS DynamoDB</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsec2/">AWS EC2</a></li>
                
              
                
                
                
                  <li><a href="/integrations/ecs/">AWS ECS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsbeanstalk/">AWS Elastic Beanstalk</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsebs/">AWS Elastic Block Store</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsefs/">AWS Elastic File System</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsemr/">AWS Elastic Map Reduce</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awselasticache/">AWS ElastiCache</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awselb/">AWS ELB</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awses/">AWS ES</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsfirehose/">AWS Firehose</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsiot/">AWS Internet of Things</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awskms/">AWS Key Management Service</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awskinesis/">AWS Kinesis</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awslambda/">AWS Lambda</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsml/">AWS Machine Learning</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsopsworks/">AWS OpsWorks</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awspolly/">AWS Polly</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsrds/">AWS RDS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsredshift/">AWS Redshift</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsroute53/">AWS Route 53</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/awss3/">AWS S3 *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsses/">AWS SES</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsswf/">AWS Simple Workflow Service</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awssns/">AWS SNS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awssqs/">AWS SQS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsstoragegateway/">AWS Storage Gateway</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awswaf/">AWS Web Application Firewall</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsworkspaces/">AWS Workspaces</a></li>
                
              
                
                
                
                  <li><a href="/integrations/bitbucket/">Bitbucket</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/btrfs/">btrfs *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/bugsnag/">Bugsnag *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/cacti/">Cacti *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/campfire/">Campfire *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/capistrano/">Capistrano *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/cassandra/">Cassandra</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/catchpoint/">Catchpoint *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/ceph/">Ceph</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/chatwork/">Chatwork *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/chef/">Chef</a></li>
                
              
                
                
                
                  <li><a href="/integrations/consul/">Consul</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/couchbase/">Couchbase *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/couchdb/">CouchDB</a></li>
                
              
                
                
                
                  <li><a href="/integrations/desk/">Desk</a></li>
                
              
                
                
                
                  <li><a href="/integrations/directory/">Directory Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/disk/">Disk Check</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/dnscheck/">DNS Service Check *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/docker/">Docker</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/dyn/">Dyn *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/elasticsearch/">Elasticsearch</a></li>
                
              
                
                
                
                  <li><a href="/integrations/etcd/">etcd</a></li>
                
              
                
                
                
                  <li><a href="/integrations/eventviewer/">Event Viewer</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/expressjs/">ExpressJS *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/fabric/">Fabric *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/fastly/">Fastly *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/flowdock/">Flowdock *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/fluentd/">Fluentd *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/gearman/">Gearman</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/git/">Git *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/github/">Github</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/goexpvar/">Go Expvar *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/google_app_engine/">Google App Engine</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_big_query/">Google BigQuery *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_functions/">Google Cloud Functions *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/google_cloud_platform/">Google Cloud Platform</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloudsql/">Google CloudSQL *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_compute_engine/">Google Compute Engine *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_container_engine/">Google Container Engine *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_datastore/">Google Datastore *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_firebase/">Google Firebase *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_ml/">Google Machine Learning *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_pubsub/">Google Pub/Sub *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_spanner/">Google Spanner *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_stackdriver_logging/">Google Stackdriver Logging *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_storage/">Google Storage *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_vpn/">Google VPN *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/gunicorn/">gunicorn</a></li>
                
              
                
                
                
                  <li><a href="/integrations/hdfs/">Hadoop HDFS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/mapreduce/">Hadoop MapReduce</a></li>
                
              
                
                
                
                  <li><a href="/integrations/yarn/">Hadoop YARN</a></li>
                
              
                
                
                
                  <li><a href="/integrations/haproxy/">HAProxy</a></li>
                
              
                
                
                
                  <li><a href="/integrations/hipchat/">HipChat</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/honeybadger/">Honeybadger *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/httpcheck/">HTTP Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/iis/">IIS</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/immunio/">Immunio *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/java/">Java/JMX</a></li>
                
              
                
                
                
                  <li><a href="/integrations/jenkins/">Jenkins</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/jira/">Jira *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/kong/">Kong *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/kubernetes/">Kubernetes</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/kyototycoon/">Kyoto Tycoon *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/lighttpd/">Lighttpd</a></li>
                
              
                
                
                
                  <li><a href="/integrations/marathon/">Marathon</a></li>
                
              
                
                
                
                  <li><a href="/integrations/memcached/">Memcached</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/mesos/">Mesos *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/azure/">Microsoft Azure</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_app_services/">Microsoft Azure App Service *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_batch/">Microsoft Azure Batch Service *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_event_hub/">Microsoft Azure Event Hub Service *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_iot_hub/">Microsoft Azure IOT Hub *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_logic_app/">Microsoft Azure Logic App *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_redis_cache/">Microsoft Azure Redis Cache *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_sql_database/">Microsoft Azure SQL Database *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_sql_elastic_pool/">Microsoft Azure SQL Elastic Pool *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/azure_storage/">Microsoft Azure Storage</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_vm_scale_set/">Microsoft Azure Virtual Machine Scale Set *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_vm/">Microsoft Azure VM *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/mongodb/">MongoDB</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/moxtra/">Moxtra *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/mparticle/">mParticle *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/mysql/">MySQL</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/nagios/">Nagios *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/network/">Network Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/new_relic/">New Relic</a></li>
                
              
                
                
                
                  <li><a href="/integrations/nginx/">NGINX</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/nodejs/">NodeJS *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/ntp/">NTP Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/openstack/">OpenStack</a></li>
                
              
                
                
                
                  <li><a href="/integrations/opsgenie/">OpsGenie</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/opsmatic/">Opsmatic *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/pagerduty/">PagerDuty *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/papertrail/">PaperTrail *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/pgbouncer/">PGBouncer</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/php/">PHP *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/phpfpm/">PHP-FPM *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/pingdom/">Pingdom</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/pivotal/">Pivotal Tracker *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/postfix/">Postfix *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/postgresql/">PostgreSQL</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/powerdns/">PowerDNS Recursor *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/process/">Process Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/puppet/">Puppet</a></li>
                
              
                
                
                
                  <li><a href="/integrations/python/">Python</a></li>
                
              
                
                
                
                  <li><a href="/integrations/rabbitmq/">RabbitMQ</a></li>
                
              
                
                
                
                  <li><a href="/integrations/redis/">Redis</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/redmine/">Redmine *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/riak/">Riak *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/riakcs/">RiakCS</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/rollbar/">Rollbar *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/rss/">RSS *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/ruby/">Ruby</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/sentry/">Sentry *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/servicenow/">ServiceNow</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/slack/">Slack *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/snmp/">SNMP</a></li>
                
              
                
                
                
                  <li><a href="/integrations/solr/">Solr</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/spark/">Spark *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/splunk/">Splunk</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/sqlserver/">SQL Server *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/ssh/">ssh *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/statsd/">StatsD</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/statuspage/">StatusPageIO *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/sumologic/">Sumo Logic</a></li>
                
              
                
                
                
                  <li><a href="/integrations/supervisor/">Supervisor</a></li>
                
              
                
                
                
                  <li><a href="/integrations/system/">System Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/systemcore/">System Core</a></li>
                
              
                
                
                
                  <li><a href="/integrations/tcpcheck/">TCP Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/tcprtt/">TCP RTT Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/teamcity/">TeamCity</a></li>
                
              
                
                
                
                  <li><a href="/integrations/tokumx/">TokuMX</a></li>
                
              
                
                
                
                  <li><a href="/integrations/tomcat/">Tomcat</a></li>
                
              
                
                
                
                  <li><a href="/integrations/varnish/">Varnish</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/victorops/">VictorOps *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/vmware/">VMware</a></li>
                
              
                
                
                
                  <li><a href="/integrations/webhooks/">Webhooks</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/winservices/">Windows Services *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/wmi/">WMI</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/zendesk/">Zendesk *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/zookeeper/">Zookeeper</a></li>
                
              
            </div>
          </ul>
        &nbsp;
        </div>

        <!-- MAIN -->
        <div class="col-sm-9 col-xs-12 main">
          <!-- PAGE TITLE -->
          <h1 id="pagetitle">Datadog-AWS Integration </h1>
          
          <div id="pagecontent">
            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<h1 id="overview" class="linked-header">
<a class="header-link" href="#overview"><i class="fa fa-link"></i></a>Overview</h1>

<p>Connect to Amazon Web Services (AWS) in order to:</p>

<ul>
  <li>See automatic AWS status updates in your stream</li>
  <li>Get CloudWatch metrics for EC2 hosts without installing the Agent</li>
  <li>Tag your EC2 hosts with EC2-specific information (e.g. availability zone)</li>
  <li>See EC2 scheduled maintenances events in your stream</li>
  <li>Collect CloudWatch metrics and events from many other AWS products</li>
</ul>

<p>Related integrations include:</p>

<table class="table">
  <tbody>
    <tr>
      <td><a href="/integrations/awsapigateway">API Gateway</a></td>
      <td>create, publish, maintain, and secure APIs</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsautoscaling">Autoscaling</a></td>
      <td>scale EC2 capacity</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsbilling">Billing</a></td>
      <td>billing and budgets</td>
    </tr>
    <tr>
      <td><a href="/integrations/awscloudfront">CloudFront</a></td>
      <td>glocal content delivery network</td>
    </tr>
    <tr>
      <td><a href="/integrations/awscloudtrail">CloudTrail</a></td>
      <td>Access to log files and AWS API calls</td>
    </tr>
    <tr>
      <td><a href="/integrations/awscloudsearch">CloudSearch</a></td>
      <td>Access to log files and AWS API calls</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsdynamo">Dynamo DB</a></td>
      <td>NoSQL Database</td>
    </tr>
    <tr>
      <td><a href="/integrations/ecs">EC2 Container Service (ECS)</a></td>
      <td>container management service that supports Docker containers</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsbeanstalk">Elastic Beanstalk</a></td>
      <td>easy-to-use service for deploying and scaling web applications and services</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsebs">Elastic Block Store (EBS)</a></td>
      <td>persistent block level storage volumes</td>
    </tr>
    <tr>
      <td><a href="/integrations/awselasticache">ElastiCache</a></td>
      <td>in-memory cache in the cloud</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsec2">Elastic Cloud Compute (EC2)</a></td>
      <td>resizable compute capacity in the cloud</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsefs">Elastic File System (EFS)</a></td>
      <td>shared file storage</td>
    </tr>
    <tr>
      <td><a href="/integrations/awselb">Elastic Load Balancing (ELB)</a></td>
      <td>distributes incoming application traffic across multiple Amazon EC2 instances</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsemr">Elastic Map Reduce (EMR)</a></td>
      <td>data processing using Hadoop</td>
    </tr>
    <tr>
      <td><a href="/integrations/awses">Elasticsearch Service (ES)</a></td>
      <td>deploy, operate, and scale Elasticsearch clusters</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsfirehose">Firehose</a></td>
      <td>capture and load streaming data</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsiot">IOT</a></td>
      <td>connect IOT devices with cloud services</td>
    </tr>
    <tr>
      <td><a href="/integrations/awskinesis">Kinesis</a></td>
      <td>service for real-time processing of large, distributed data streams</td>
    </tr>
    <tr>
      <td><a href="/integrations/awskms">Key Management Service (KMS)</a></td>
      <td>create and control encryption keys</td>
    </tr>
    <tr>
      <td><a href="/integrations/awslambda">Lambda</a></td>
      <td>serverless computing</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsml">Machine Learning (ML)</a></td>
      <td>create machine learning models</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsopsworks">OpsWorks</a></td>
      <td>configuration management</td>
    </tr>
    <tr>
      <td><a href="/integrations/awspolly">Polly</a></td>
      <td>text-speech service</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsredshift">Redshift</a></td>
      <td>data warehouse solution</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsrds">Relational Database Service (RDS)</a></td>
      <td>relational database in the cloud</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsroute53">Route 53</a></td>
      <td>DNS and traffic management with availability monitoring</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsses">Simple Email Service (SES)</a></td>
      <td>cost-effective, outbound-only email-sending service</td>
    </tr>
    <tr>
      <td><a href="/integrations/awssns">Simple Notification System (SNS)</a></td>
      <td>alert and notifications</td>
    </tr>
    <tr>
      <td><a href="/integrations/awssqs">Simple Queue Service (SQS)</a></td>
      <td>messaging queue service</td>
    </tr>
    <tr>
      <td><a href="/integrations/awss3">Simple Storage Service (S3)</a></td>
      <td>highly available and scalable cloud storage service</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsswf">Simple Workflow Service (SWF)</a></td>
      <td>cloud workflow management</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsstoragegateway">Storage Gateway</a></td>
      <td>hybrid cloud storage</td>
    </tr>
    <tr>
      <td><a href="/integrations/awswaf">Web Application Firewall (WAF)</a></td>
      <td>protect web applications from common web exploits</td>
    </tr>
    <tr>
      <td><a href="/integrations/awsworkspaces">Workspaces</a></td>
      <td>secure desktop computing service</td>
    </tr>
  </tbody>
</table>

<h1 id="installation" class="linked-header">
<a class="header-link" href="#installation"><i class="fa fa-link"></i></a>Installation</h1>

<p>Setting up the Datadog integration with Amazon Web Services requires configuring role delegation using AWS IAM. To get a better
understanding of role delegation, refer to the <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#delegate-using-roles">AWS IAM Best Practices guide</a>.</p>

<p>Note: The GovCloud and China regions do not currently support IAM role delegation. If you are deploying in these regions please skip to the <a href="#configuration-for-china-and-govcloud">configuration section</a> below.</p>

<ol>
  <li>
    <p>First create a new policy in the <a href="https://console.aws.amazon.com/iam/home#s=Home">IAM Console</a>. Name the policy <code>DatadogAWSIntegrationPolicy</code>, or choose a name that is more relevant for you. To take advantage of every AWS integration offered by Datadog, using the following in the <strong>Policy Document</strong> textbox. As we add other components to the integration, these permissions may change.</p>

    <pre><code>{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Action": [
        "autoscaling:Describe*",
        "budgets:ViewBudget",
        "cloudtrail:DescribeTrails",
        "cloudtrail:GetTrailStatus",
        "cloudwatch:Describe*",
        "cloudwatch:Get*",
        "cloudwatch:List*",
        "dynamodb:list*",
        "dynamodb:describe*",
        "ec2:Describe*",
        "ec2:Get*",
        "ecs:Describe*",
        "ecs:List*",
        "elasticache:Describe*",
        "elasticache:List*",
        "elasticloadbalancing:Describe*",
        "elasticmapreduce:List*",
        "elasticmapreduce:Describe*",
        "es:ListTags",
        "es:ListDomainNames",
        "es:DescribeElasticsearchDomains",
        "kinesis:List*",
        "kinesis:Describe*",
        "logs:Get*",
        "logs:Describe*",
        "logs:FilterLogEvents",
        "logs:TestMetricFilter",
        "rds:Describe*",
        "rds:List*",
        "route53:List*",
        "s3:GetBucketTagging",
        "s3:ListAllMyBuckets",
        "ses:Get*",
        "sns:List*",
        "sns:Publish",
        "sqs:ListQueues",
        "support:*"
      ],
      "Effect": "Allow",
      "Resource": "*"
    }
  ]
}
</code></pre>

    <p>If you are not comfortable with granting all of these permissions, at the very least use the existing policies named <strong>AmazonEC2ReadOnlyAccess</strong> and <strong>CloudWatchReadOnlyAccess</strong>. For more detailed information regarding permissions, please see the <a href="#permissions">Permissions</a> section below.</p>
  </li>
  <li>Create a new role in the IAM Console. Name it anything you like, such as <code>DatadogAWSIntegrationRole</code>.</li>
  <li>From the selection, choose Role for Cross-Account Access.</li>
  <li>Click the Select button for <strong>Allows IAM users from a 3rd party AWS account to access this account</strong>.</li>
  <li>For Account ID, enter <code>464622532012</code> (Datadog’s account ID). This means that you will grant Datadog and Datadog only read access to your AWS data. For External ID, enter the one generated on our website. Make sure you leave <strong>Require MFA</strong> disabled. <em>For more information about the External ID, refer to <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user_externalid.html">this document in the IAM User Guide</a></em>.</li>
  <li>Select the policy you created above.</li>
  <li>Review what you selected and click the <strong>Create Role</strong> button.</li>
</ol>

<h1 id="configuration" class="linked-header">
<a class="header-link" href="#configuration"><i class="fa fa-link"></i></a>Configuration</h1>

<p><img src="/static/images/integrations-aws-secretentry.png" alt="logo"></p>

<ol>
  <li>Open the <a href="https://app.datadoghq.com/account/settings#integrations/amazon_web_services">AWS Integration tile</a>.</li>
  <li>Select the <strong>Role Delegation</strong> tab.</li>
  <li>Enter your AWS Account ID <strong>without dashes</strong>, e.g. 123456789012, not 1234-5678-9012. Your Account ID can be found in the ARN of the newly created role. Then enter the name of the role you just created. Finally enter the External ID you specified above.</li>
  <li>Choose the services you want to collect metrics for on the left side of the dialog. You can optionally add tags to all hosts and metrics. Also if you want to only monitor a subset of EC2 instances on AWS, tag them and specify the tag in the limit textbox here.</li>
  <li>Click <strong>Install Integration</strong>.</li>
</ol>

<h2 id="configuration-for-china-and-govcloud" class="linked-header">
<a class="header-link" href="#configuration-for-china-and-govcloud"><i class="fa fa-link"></i></a>Configuration for China and GovCloud</h2>

<ol>
  <li>Open the <a href="https://app.datadoghq.com/account/settings#integrations/amazon_web_services">AWS Integration tile</a>.</li>
  <li>Select the <strong>Access Keys (GovCloud or China Only)</strong> tab.</li>
  <li>Enter your AWS Access Key and AWS Secret Key. Note: only access and secret keys for China and GovCloud are accepted.</li>
  <li>Choose the services you want to collect metrics for on the left side of the dialog. You can optionally add tags to all hosts and metrics. Also if you want to only monitor a subset of EC2 instances on AWS, tag them and specify the tag in the limit textbox here.</li>
  <li>Click <strong>Install Integration</strong>.</li>
</ol>

<h1 id="metrics" class="linked-header">
<a class="header-link" href="#metrics"><i class="fa fa-link"></i></a>Metrics</h1>

<table class="table">
<tr>
<td>
<strong>aws.logs.incoming_bytes</strong><br>(gauge)</td>
<td>The volume of log events in uncompressed bytes uploaded to Cloudwatch Logs.<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>aws.logs.incoming_log_events</strong><br>(count)</td>
<td>The number of log events uploaded to Cloudwatch Logs.<br><em>shown as event</em>
</td>
</tr>
<tr>
<td>
<strong>aws.logs.forwarded_bytes</strong><br>(gauge)</td>
<td>The volume of log events in compressed bytes forwarded to the subscription destination.<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>aws.logs.forwarded_log_events</strong><br>(count)</td>
<td>The number of log events forwarded to the subscription destination.<br><em>shown as event</em>
</td>
</tr>
<tr>
<td>
<strong>aws.logs.delivery_errors</strong><br>(count)</td>
<td>The number of log events for which CloudWatch Logs received an error when forwarding data to the subscription destination.<br><em>shown as event</em>
</td>
</tr>
<tr>
<td>
<strong>aws.logs.delivery_throttling</strong><br>(count)</td>
<td>The number of log events for which CloudWatch Logs was throttled when forwarding data to the subscription destination.<br><em>shown as event</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.available_instance_pools_count</strong><br>(count)</td>
<td>The Spot Instance pools specified in the Spot Fleet request.<br><em>shown as instance</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.bids_submitted_for_capacity</strong><br>(count)</td>
<td>The capacity for which Amazon EC2 has submitted bids.<br><em>shown as instance</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.eligible_instance_pool_count</strong><br>(count)</td>
<td>The Spot Instance pools specified in the Spot Fleet request where Amazon EC2 can fulfill bids.<br><em>shown as instance</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.fulfilled_capacity</strong><br>(count)</td>
<td>The capacity that Amazon EC2 has fulfilled.<br><em>shown as instance</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.max_percent_capacity_allocation</strong><br>(gauge)</td>
<td>The maximum value of PercentCapacityAllocation across all Spot Instance pools specified in the Spot Fleet request.<br><em>shown as percent</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.pending_capacity</strong><br>(count)</td>
<td>The difference between TargetCapacity and FulfilledCapacity.<br><em>shown as instance</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.percent_capacity_allocation</strong><br>(gauge)</td>
<td>The capacity allocated for the Spot Instance pool for the specified dimensions.<br><em>shown as percent</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.target_capacity</strong><br>(count)</td>
<td>The target capacity of the Spot Fleet request.<br><em>shown as instance</em>
</td>
</tr>
<tr>
<td>
<strong>aws.ec2spot.terminating_capacity</strong><br>(count)</td>
<td>The capacity that is being terminated due to Spot Instance interruptions.<br><em>shown as instance</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cpuutilization</strong><br>(gauge)</td>
<td>Average percentage of allocated EC2 compute units that are currently in use on the instance.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.free_storage_space</strong><br>(gauge)</td>
<td>The amount of available storage space<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.freeable_memory</strong><br>(gauge)</td>
<td>The amount of available random access memory.<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.write_iops</strong><br>(gauge)</td>
<td>The average number of disk I/O operations per second<br><em>shown as operation/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.read_iops</strong><br>(gauge)</td>
<td>The average number of disk I/O operations per second.<br><em>shown as operation/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.write_throughput</strong><br>(gauge)</td>
<td>The average number of bytes written to disk per second.<br><em>shown as byte/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.read_throughput</strong><br>(gauge)</td>
<td>The average number of bytes read from disk per second.<br><em>shown as byte/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.write_latency</strong><br>(gauge)</td>
<td>The average amount of time taken per write disk I/O operation<br><em>shown as second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.read_latency</strong><br>(gauge)</td>
<td>The average amount of time taken per read disk I/O operation<br><em>shown as second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.swap_usage</strong><br>(gauge)</td>
<td>The amount of swap space used on the DB Instance<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.network_transmit_throughput</strong><br>(gauge)</td>
<td>The outgoing (Transmit) network traffic on the DB instance including both customer database traffic and Amazon RDS traffic used for monitoring and replication<br><em>shown as byte/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.network_receive_throughput</strong><br>(gauge)</td>
<td>The incoming (Receive) network traffic on the DB instance including both customer database traffic and Amazon RDS traffic used for monitoring and replication.<br><em>shown as byte/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.full_load_throughput_bandwidth_source</strong><br>(gauge)</td>
<td>Incoming network bandwidth from a full load from the source<br><em>shown as kibibyte/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.full_load_throughput_bandwidth_target</strong><br>(gauge)</td>
<td>Outgoing network bandwidth from a full load for the target<br><em>shown as kibibyte/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.full_load_throughput_rows_source</strong><br>(gauge)</td>
<td>Incoming changes from a full load from the source in rows per second<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.full_load_throughput_rows_target</strong><br>(gauge)</td>
<td>Outgoing changes from a full load for the target<br><em>shown as row</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcincoming_changes</strong><br>(gauge)</td>
<td>Total row count of changes for the task<br><em>shown as row</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcchanges_memory_source</strong><br>(gauge)</td>
<td>Amount of rows accumulating in a memory and waiting to be committed from the source<br><em>shown as row</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcchanges_memory_target</strong><br>(gauge)</td>
<td>Amount of rows accumulating in a memory and waiting to be committed to the target<br><em>shown as row</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcchanges_disk_source</strong><br>(gauge)</td>
<td>Amount of rows accumulating on disk and waiting to be committed from the source<br><em>shown as row</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcchanges_disk_target</strong><br>(gauge)</td>
<td>Amount of rows accumulating on disk and waiting to be committed to the target<br><em>shown as row</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcthroughput_bandwidth_source</strong><br>(gauge)</td>
<td>Incoming task network bandwidth from the source<br><em>shown as kibibyte/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcthroughput_bandwidth_target</strong><br>(gauge)</td>
<td>Outgoing task network bandwidth for the target<br><em>shown as kibibyte/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcthroughput_rows_source</strong><br>(gauge)</td>
<td>Incoming task changes from the source<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdcthroughput_rows_target</strong><br>(gauge)</td>
<td>Outgoing task changes for the target<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdclatency_source</strong><br>(gauge)</td>
<td>Latency reading from source<br><em>shown as second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.dms.cdclatency_target</strong><br>(gauge)</td>
<td>Latency writing to the target<br><em>shown as second</em>
</td>
</tr>
<tr>
<td>
<strong>aws.events.invocations</strong><br>(count)</td>
<td>Measures the number of times a target is invoked for a rule in response to an event. This includes successful and failed invocations but does not include throttled or retried attempts until they fail permanently.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.events.failed_invocations</strong><br>(count)</td>
<td>Measures the number of invocations that failed permanently. This does not include invocations that are retried or that succeeded after a retry attempt<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.events.triggered_rules</strong><br>(count)</td>
<td>Measures the number of triggered rules that matched with any event.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.events.matched_events</strong><br>(count)</td>
<td>Measures the number of events that matched with any rule.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.events.throttled_rules</strong><br>(count)</td>
<td>Measures the number of triggered rules that are being throttled.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.execution_time</strong><br>(gauge every 60 seconds)</td>
<td>The average time interval, in milliseconds, between the time the execution started and the time it closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.execution_time.maximum</strong><br>(gauge every 60 seconds)</td>
<td>The maximum time interval, in milliseconds, between the time the execution started and the time it closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.execution_time.minimum</strong><br>(gauge every 60 seconds)</td>
<td>The minimum time interval, in milliseconds, between the time the execution started and the time it closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.execution_time.p95</strong><br>(gauge every 60 seconds)</td>
<td>The 95th percentile time interval, in milliseconds, between the time the execution started and the time it closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.execution_time.p99</strong><br>(gauge every 60 seconds)</td>
<td>The 99th percentile time interval, in milliseconds, between the time the execution started and the time it closed.il<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.executions_aborted</strong><br>(count every 60 seconds)</td>
<td>The number of executions that were aborted/terminated.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.executions_failed</strong><br>(count every 60 seconds)</td>
<td>The number of executions that failed.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.executions_started</strong><br>(count every 60 seconds)</td>
<td>The number of executions started.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.executions_succeeded</strong><br>(count every 60 seconds)</td>
<td>The number of executions that completed successfully.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.executions_timed_out</strong><br>(count every 60 seconds)</td>
<td>The number of executions that timed out for any reason.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_run_time</strong><br>(gauge every 60 seconds)</td>
<td>The average time interval, in milliseconds, between the time the lambda function was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_run_time.maximum</strong><br>(gauge every 60 seconds)</td>
<td>The  maximum time interval, in milliseconds, between the time the lambda function was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_run_time.minimum</strong><br>(gauge every 60 seconds)</td>
<td>The minimum time interval, in milliseconds, between the time the lambda function was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_run_time.p95</strong><br>(gauge every 60 seconds)</td>
<td>The 95th percentile time interval, in milliseconds, between the time the lambda function was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_run_time.p99</strong><br>(gauge every 60 seconds)</td>
<td>The 99th percentile time interval, in milliseconds, between the time the lambda function was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_schedule_time</strong><br>(gauge every 60 seconds)</td>
<td>The avg time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_schedule_time.maximum</strong><br>(gauge every 60 seconds)</td>
<td>The maximum time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_schedule_time.minimum</strong><br>(gauge every 60 seconds)</td>
<td>The minimum time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_schedule_time.p95</strong><br>(gauge every 60 seconds)</td>
<td>The 95th percentile time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_schedule_time.p99</strong><br>(gauge every 60 seconds)</td>
<td>The 99th percentile time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_time</strong><br>(gauge every 60 seconds)</td>
<td>The average time interval, in milliseconds, between the time the lambda function was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_time.maximum</strong><br>(gauge every 60 seconds)</td>
<td>The maximum time interval, in milliseconds, between the time the lambda function was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_time.minimum</strong><br>(gauge every 60 seconds)</td>
<td>The minimum time interval, in milliseconds, between the time the lambda function was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_time.p95</strong><br>(gauge every 60 seconds)</td>
<td>The 95th percentile time interval, in milliseconds, between the time the lambda function was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_function_time.p99</strong><br>(gauge every 60 seconds)</td>
<td>The 99th percentile time interval, in milliseconds, between the time the lambda function was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_functions_failed</strong><br>(count every 60 seconds)</td>
<td>The number of lambda functions that failed.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_functions_heartbeat_timed_out</strong><br>(count every 60 seconds)</td>
<td>The number of lambda functions that were timed out due to a heartbeat timeout.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_functions_scheduled</strong><br>(count every 60 seconds)</td>
<td>The number of lambda functions that were scheduled.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_functions_started</strong><br>(count every 60 seconds)</td>
<td>The number of lambda functions that were started.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_functions_succeeded</strong><br>(count every 60 seconds)</td>
<td>The number of lambda functions that completed successfully.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.lambda_functions_timed_out</strong><br>(count every 60 seconds)</td>
<td>The number of lambda functions that were timed out on close.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_run_time</strong><br>(gauge every 60 seconds)</td>
<td>The average time interval, in milliseconds, between the time the activity was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_run_time.maximum</strong><br>(gauge every 60 seconds)</td>
<td>The  maximum time interval, in milliseconds, between the time the activity was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_run_time.minimum</strong><br>(gauge every 60 seconds)</td>
<td>The minimum time interval, in milliseconds, between the time the activity was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_run_time.p95</strong><br>(gauge every 60 seconds)</td>
<td>The 95th percentile time interval, in milliseconds, between the time the activity was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_run_time.p99</strong><br>(gauge every 60 seconds)</td>
<td>The 99th percentile time interval, in milliseconds, between the time the activity was started and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_schedule_time</strong><br>(gauge every 60 seconds)</td>
<td>The avg time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_schedule_time.maximum</strong><br>(gauge every 60 seconds)</td>
<td>The maximum time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_schedule_time.minimum</strong><br>(gauge every 60 seconds)</td>
<td>The minimum time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_schedule_time.p95</strong><br>(gauge every 60 seconds)</td>
<td>The 95th percentile time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_schedule_time.p99</strong><br>(gauge every 60 seconds)</td>
<td>The 99th percentile time interval, in milliseconds, that the activity stayed in the schedule state.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_time</strong><br>(gauge every 60 seconds)</td>
<td>The average time interval, in milliseconds, between the time the activity was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_time.maximum</strong><br>(gauge every 60 seconds)</td>
<td>The maximum time interval, in milliseconds, between the time the activity was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_time.minimum</strong><br>(gauge every 60 seconds)</td>
<td>The minimum time interval, in milliseconds, between the time the activity was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_time.p95</strong><br>(gauge every 60 seconds)</td>
<td>The 95th percentile time interval, in milliseconds, between the time the activity was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activity_time.p99</strong><br>(gauge every 60 seconds)</td>
<td>The 99th percentile time interval, in milliseconds, between the time the activity was scheduled and when it was closed.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activitys_failed</strong><br>(count every 60 seconds)</td>
<td>The number of activities that failed.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activitys_heartbeat_timed_out</strong><br>(count every 60 seconds)</td>
<td>The number of activities that were timed out due to a heartbeat timeout.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activitys_scheduled</strong><br>(count every 60 seconds)</td>
<td>The number of activities that were scheduled.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activitys_started</strong><br>(count every 60 seconds)</td>
<td>The number of activities that were started.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activitys_succeeded</strong><br>(count every 60 seconds)</td>
<td>The number of activities that completed successfully.<em></em>
</td>
</tr>
<tr>
<td>
<strong>aws.states.activitys_timed_out</strong><br>(count every 60 seconds)</td>
<td>The number of activities that were timed out on close.<em></em>
</td>
</tr>
</table>

<h1 id="permissions" class="linked-header">
<a class="header-link" href="#permissions"><i class="fa fa-link"></i></a>Permissions</h1>

<p>The core Datadog-AWS integration pulls data from AWS CloudWatch. At a minimum, your Policy Document will need to allow the following actions:</p>

<ul>
  <li>
<code>cloudwatch:ListMetrics</code> to list the available CloudWatch metrics.</li>
  <li>
<code>cloudwatch:GetMetricStatistics</code> to fetch data points for a given metric.</li>
</ul>

<p>Note that these actions and the ones listed below are included in the Policy Document using wild cards such as <code>List*</code> and <code>Get*</code>. If you require strict policies, please use the complete action names as listed and reference the Amazon API documentation for the services you require.</p>

<p>By allowing Datadog to read the following additional endpoints, the AWS integration will be able to add tags to CloudWatch metrics and generate additional metrics.</p>

<h2 id="autoscaling" class="linked-header">
<a class="header-link" href="#autoscaling"><i class="fa fa-link"></i></a>Autoscaling</h2>

<ul>
  <li>
<code>autoscaling:DescribeAutoScalingGroups</code>: Used to list all autoscaling groups.</li>
  <li>
<code>autoscaling:DescribePolicies</code>: List available policies (for autocompletion in events and monitors).</li>
  <li>
<code>autoscaling:DescribeTags</code>: Used to list tags for a given autoscaling group. This will add ASG custom tags on ASG CloudWatch metrics.</li>
  <li>
<code>autoscaling:DescribeScalingActivities</code>: Used to generate events when an ASG scales up or down.</li>
  <li>
<code>autoscaling:ExecutePolicy</code>: Execute one policy (scale up or down from a monitor or the events feed). Note: This is not included in the <a href="#installation">installation Policy Document</a> and should only be included if you are using monitors or events to execute an autoscaling policy.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_application-autoscaling.html">Autoscaling policies</a>, review the documentation on the AWS website.</p>

<h2 id="billing" class="linked-header">
<a class="header-link" href="#billing"><i class="fa fa-link"></i></a>Billing</h2>

<ul>
  <li>
<code>budgets:ViewBudget</code>: Used to view budget metrics</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_budgets.html">Budget policies</a>, review the documentation on the AWS website.</p>

<h2 id="cloudtrail" class="linked-header">
<a class="header-link" href="#cloudtrail"><i class="fa fa-link"></i></a>CloudTrail</h2>

<ul>
  <li>
<code>cloudtrail:DescribeTrails</code>: Used to list trails and find in which s3 bucket they store the trails</li>
  <li>
<code>cloudtrail:GetTrailStatus</code>: Used to skip inactive trails</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_cloudtrail.html">CloudTrail policies</a>, review the documentation on the AWS website.</p>

<p>CloudTrail also requires some s3 permissions to access the trails. <strong>These are required on the CloudTrail bucket only</strong></p>

<ul>
  <li>
<code>s3:ListBucket</code>: List objects in the CloudTrail bucket to get available trails</li>
  <li>
<code>s3:GetBucketLocation</code>: Get bucket’s region to download trails</li>
  <li>
<code>s3:GetObject</code>: Fetch available trails</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_s3.html">S3 policies</a>, review the documentation on the AWS website.</p>

<h2 id="dynamodb" class="linked-header">
<a class="header-link" href="#dynamodb"><i class="fa fa-link"></i></a>DynamoDB</h2>

<ul>
  <li>
<code>dynamodb:ListTables</code>: Used to list available DynamoDB tables.</li>
  <li>
<code>dynamodb:DescribeTable</code>: Used to add metrics on a table size and item count.</li>
  <li>
<code>dynamodb:ListTagsOfResource</code>: Used to collect all tags on a DynamoDB resource.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_dynamodb.html">DynamoDB policies</a>, review the documentation on the AWS website.</p>

<h2 id="ec2" class="linked-header">
<a class="header-link" href="#ec2"><i class="fa fa-link"></i></a>EC2</h2>

<ul>
  <li>
<code>ec2:DescribeInstanceStatus</code>: Used by the ELB integration to assert the health of an instance. Used by the EC2 integration to describe the health of all instances.</li>
  <li>
<code>ec2:DescribeSecurityGroups</code>: Adds SecurityGroup names and custom tags to ec2 instances.</li>
  <li>
<code>ec2:DescribeInstances</code>: Adds tags to ec2 instances and ec2 cloudwatch metrics.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_ec2.html">EC2 policies</a>, review the documentation on the AWS website.</p>

<h2 id="ecs" class="linked-header">
<a class="header-link" href="#ecs"><i class="fa fa-link"></i></a>ECS</h2>

<ul>
  <li>
<code>ecs:ListClusters</code>: List available clusters.</li>
  <li>
<code>ecs:ListContainerInstances</code>: List instances of a cluster.</li>
  <li>
<code>ecs:DescribeContainerInstances</code>: Describe instances to add metrics on resources and tasks running, adds cluster tag to ec2 instances.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_ecs.html">ECS policies</a>, review the documentation on the AWS website.</p>

<h2 id="elasticache" class="linked-header">
<a class="header-link" href="#elasticache"><i class="fa fa-link"></i></a>Elasticache</h2>

<ul>
  <li>
<code>elasticache:DescribeCacheClusters</code>: List and describe Cache clusters, to add tags and additional metrics.</li>
  <li>
<code>elasticache:ListTagsForResource</code>: List custom tags of a cluster, to add custom tags.</li>
  <li>
<code>elasticache:DescribeEvents</code>: Add events avout snapshots and maintenances.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_elasticache.html">Elasticache policies</a>, review the documentation on the AWS website.</p>

<h2 id="elb" class="linked-header">
<a class="header-link" href="#elb"><i class="fa fa-link"></i></a>ELB</h2>

<ul>
  <li>
<code>elasticloadbalancing:DescribeLoadBalancers</code>: List ELBs, add additional tags and metrics.</li>
  <li>
<code>elasticloadbalancing:DescribeTags</code>: Add custom ELB tags to ELB metrics.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_elasticloadbalancing.html">ELB policies</a>, review the documentation on the AWS website.</p>

<h2 id="emr" class="linked-header">
<a class="header-link" href="#emr"><i class="fa fa-link"></i></a>EMR</h2>

<ul>
  <li>
<code>elasticmapreduce:ListClusters</code>: List available clusters.</li>
  <li>
<code>elasticmapreduce:DescribeCluster</code>: Add tags to CloudWatch EMR metrics.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_elasticmapreduce.html">EMR policies</a>, review the documentation on the AWS website.</p>

<h2 id="es" class="linked-header">
<a class="header-link" href="#es"><i class="fa fa-link"></i></a>ES</h2>

<ul>
  <li>
<code>es:ListTags</code>: Add custom ES domain tags to ES metrics</li>
  <li>
<code>es:ListDomainNames</code>: Add custom ES domain tags to ES metrics</li>
  <li>
<code>es:DescribeElasticsearchDomains</code>: Add custom ES domain tags to ES metrics</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_es.html">ES policies</a>, review the documentation on the AWS website.</p>

<h2 id="kinesis" class="linked-header">
<a class="header-link" href="#kinesis"><i class="fa fa-link"></i></a>Kinesis</h2>

<ul>
  <li>
<code>kinesis:ListStreams</code>: List available streams.</li>
  <li>
<code>kinesis:DescribeStreams</code>: Add tags and new metrics for kinesis streams.</li>
  <li>
<code>kinesis:ListTagsForStream</code>: Add custom tags.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_kinesis.html">Kinesis policies</a>, review the documentation on the AWS website.</p>

<h2 id="cloudwatch-logs-and-lambda" class="linked-header">
<a class="header-link" href="#cloudwatch-logs-and-lambda"><i class="fa fa-link"></i></a>CloudWatch Logs and Lambda</h2>

<ul>
  <li>
<code>logs:DescribeLogGroups</code>: List available groups.</li>
  <li>
<code>logs:DescribeLogStreams</code>: List available streams for a group.</li>
  <li>
<code>logs:FilterLogEvents</code>: Fetch some specific log events for a stream to generate metrics.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_logs.html">CloudWatch Logs policies</a>, review the documentation on the AWS website.</p>

<h2 id="rds" class="linked-header">
<a class="header-link" href="#rds"><i class="fa fa-link"></i></a>RDS</h2>

<ul>
  <li>
<code>rds:DescribeDBInstances</code>: Descrive RDS instances to add tags.</li>
  <li>
<code>rds:ListTagsForResource</code>: Add custom tags on RDS instances.</li>
  <li>
<code>rds:DescribeEvents</code>: Add events related to RDS databases.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_rds.html">RDS policies</a>, review the documentation on the AWS website.</p>

<h2 id="route53" class="linked-header">
<a class="header-link" href="#route53"><i class="fa fa-link"></i></a>Route53</h2>

<ul>
  <li>
<code>route53:listHealthChecks</code>: List available health checks.</li>
  <li>
<code>route53:listTagsForResources</code>: Add custom tags on Route53 CloudWatch metrics.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_route53.html">Route53 policies</a>, review the documentation on the AWS website.</p>

<h2 id="s3" class="linked-header">
<a class="header-link" href="#s3"><i class="fa fa-link"></i></a>S3</h2>

<ul>
  <li>
<code>s3:ListAllMyBuckets</code>: Used to list available buckets</li>
  <li>
<code>s3:GetBucketTagging</code>: Used to get custom bucket tags</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_s3.html">S3 policies</a>, review the documentation on the AWS website.</p>

<h2 id="ses" class="linked-header">
<a class="header-link" href="#ses"><i class="fa fa-link"></i></a>SES</h2>

<ul>
  <li>
<code>ses:GetSendQuota</code>: Add metrics about send quotas.</li>
  <li>
<code>ses:GetSendStatistics</code>: Add metrics about send statistics.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_ses.html">SES policies</a>, review the documentation on the AWS website.</p>

<h2 id="sns" class="linked-header">
<a class="header-link" href="#sns"><i class="fa fa-link"></i></a>SNS</h2>

<ul>
  <li>
<code>sns:ListTopics</code>: Used to list available topics.</li>
  <li>
<code>sns:Publish</code>: Used to publish notifications (monitors or event feed).</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_sns.html">SNS policies</a>, review the documentation on the AWS website.</p>

<h2 id="sqs" class="linked-header">
<a class="header-link" href="#sqs"><i class="fa fa-link"></i></a>SQS</h2>

<ul>
  <li>
<code>sqs:ListQueues</code>: Used to list alive queues.</li>
</ul>

<p>For more information on <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_sqs.html">SQS policies</a>, review the documentation on the AWS website.</p>

<h2 id="support" class="linked-header">
<a class="header-link" href="#support"><i class="fa fa-link"></i></a>Support</h2>

<ul>
  <li>
<code>support:*</code>: Used to add metrics about service limits. Note: it requires full access because of <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/list_trustedadvisor.html">AWS limitations</a>
</li>
</ul>

<h1 id="troubleshooting" class="linked-header">
<a class="header-link" href="#troubleshooting"><i class="fa fa-link"></i></a>Troubleshooting</h1>

<p id="tshoot-discrepancy"><strong>Do you believe you’re seeing a discrepancy between your data in CloudWatch and Datadog?</strong></p>

<p>There are two important distinctions to be aware of:</p>

<ol>
  <li>In AWS for counters, a graph that is set to ‘sum’ ‘1minute’ shows the total number of occurrences in one minute leading up to that point, i.e. the rate per 1 minute. Datadog is displaying the raw data from AWS normalized to per second values, regardless of the timeframe selected in AWS, which is why you will probably see our value as lower.</li>
  <li>Overall, min/max/avg have a different meaning within AWS than in Datadog. In AWS, average latency, minimum latency, and maximum latency are three distinct metrics that AWS collects. When Datadog pulls metrics from AWS CloudWatch, we only get the average latency as a single time series per ELB. Within Datadog, when you are selecting ‘min’, ‘max’, or ‘avg’, you are controlling how multiple time series will be combined. For example, requesting <code>system.cpu.idle</code> without any filter would return one series for each host that reports that metric and those series need to be combined to be graphed. On the other hand, if you requested <code>system.cpu.idle</code> from a single host, no aggregation would be necessary and switching between average and max would yield the same result.</li>
</ol>

<p id="tshoot-delay"><strong>Metrics delayed?</strong></p>

<p>When using the AWS integration, we’re pulling in metrics via the CloudWatch API. You may see a slight delay in metrics from AWS due to some constraints that exist for their API.</p>

<p>To begin, the CloudWatch API only offers a metric-by-metric crawl to pull data. The CloudWatch APIs have a rate limit that varies based on the combination of authentication credentials, region, and service. Metrics are made available by AWS dependent on the account level. For example, if you are paying for “detailed metrics” within AWS, they are available more quickly. This level of service for detailed metrics also applies to granularity, with some metrics being available per minute and others per five minutes.</p>

<p>On the Datadog side, we do have the ability to prioritize certain metrics within an account to pull them in faster, depending on the circumstances. Please contact <a href="mailto:support@datadoghq.com">support@datadoghq.com</a> for more info on this.</p>

<p>To obtain metrics with virtually zero delay, we recommend installing the Datadog Agent on those hosts. We’ve
written a bit about this <a href="http://www.datadoghq.com/blog/dont-fear-the-agent">here</a>,  especially in relation to CloudWatch.</p>

<p id="tshoot-missing"><strong>Missing metrics?</strong></p>
<p>CloudWatch’s api returns only metrics with datapoints, so if for instance an ELB has no attached instances, it is expected not to see metrics related to this ELB in Datadog.</p>

<p id="tshoot-wrongcount"><strong>Wrong count of aws.elb.healthy_host_count?</strong></p>

<p>When the Cross-Zone Load Balancing option is enabled on an ELB, all the instances attached to this ELB are considered part of all A-Zs (on CloudWatch’s side), so if you have 2 instances in 1a and 3 in ab, the metric will display 5 instances per A-Z.
As this can be counter-intuitive, we’ve added a new metric, aws.elb.host_count, that displays the count of healthy instances per AZ, regardless of if this Cross-Zone Load Balancing option is enabled or not.
This metric should have value you would expect.</p>

<p id="tshoot-duphosts"><strong>Duplicated hosts when installing the agent?</strong></p>

<p>When installing the agent on an aws host, you might see duplicated hosts on the infra page for a few hours if you manually set the hostname in the agent’s configuration. This second host will disapear a few hours later, and won’t affect your billing.</p>

</body></html>

          </div>
        </div>
      </div>
    </div>
    <div class="container">
  <div class="row" id="footer">
    <div class=".col-md-12">Need some help?  <a href="/help/">Get in touch.</a> &bull; Mistake in the docs? <a href="https://github.com/DataDog/documentation/issues">Let us know.</a></div>
    <div class=".col-md-12"><a href="/ja">日本語ドキュメントへのリンク。</a></div>
    <div class=".col-md-12">&copy; Datadog, Inc. All rights reserved.</div>
  </div>
</div>

    

        <script type="text/javascript">
      ;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];
      p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)
      };p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;
      n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,"script","https://don08600y3gfm.cloudfront.net/ps3b/static/js/plow232.js","snowplow"));
      window.snowplow('newTracker', 'co', 'collector.datadoghq.com', { // Initialise a tracker
      appId: 'datadog', // Application ID. Make sure you use the same value across all the tags you fire on your trial
      platform: 'web',
      cookieDomain: '.datadoghq.com',
      contexts: {
        performanceTiming: true,
        webPage: true
        }
      });
      window.snowplow('enableActivityTracking', 5, 5); // Ping every 30 seconds after 30 seconds
      window.snowplow('enableLinkClickTracking');
      window.snowplow('trackPageView');
    </script>

        <script type="text/javascript">
      (function() {
       var didInit = false;
       function initMunchkin() {
         if(didInit === false) {
           didInit = true;
           Munchkin.init('875-UVY-685');
         }
       }
       var s = document.createElement('script');
       s.type = 'text/javascript';
       s.async = true;
       s.src = '//munchkin.marketo.net/munchkin.js';
       s.onreadystatechange = function() {
         if (this.readyState == 'complete' || this.readyState == 'loaded') {
           initMunchkin();
         }
       };
       s.onload = initMunchkin;
       document.getElementsByTagName('head')[0].appendChild(s);
      })();
    </script>


    <!-- <script src="/static/jquery-1.7.2.min.js"></script> -->
<script src="/static/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch-set.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch_content.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch.js"></script>
<script src="/static/datadog-docs.js"></script>


    <!-- No page Javascript -->

  </body>
</html>
