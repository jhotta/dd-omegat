

<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Datadog-PostgreSQL Integration</title>
    

    <meta itemprop="description" name="description" property="og:description" content="" />

    <link href="//fonts.googleapis.com/css?family=Open+Sans:700" rel="stylesheet" type="text/css">
    <link href="/static/css/bootstrap3-cbdde23cd71.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/tipuesearch.css">
    <link href="/static/css/style-cba6fad8d5d.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/static/pygments.css" media="screen">


    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>


    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21102638-5']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <script src="https://use.fontawesome.com/700fac0342.js"></script>
    
  </head>

  <body>
    <!-- HEADER -->
<div class="navbar navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#topmenu" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand " href="/">
        <img src="/static/dd_docs_logo.png">
      </a>
    </div>
    <div class="collapse navbar-collapse" id="topmenu">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Guides <span class="caret"></span></a>
          <ul class="dropdown-menu">
          
            
              <li>
                <a href="/guides/basic_agent_usage/">Getting Started with the Agent</a>
              </li>
              
              <li>
                <a href="/guides/overview/">Datadog Overview</a>
              </li>
              
              <li>
                <a href="/guides/hostmap/">Host Map Overview</a>
              </li>
              
              <li>
                <a href="/guides/integration_sdk/">Creating New Integrations</a>
              </li>
              
              <li>
                <a href="/guides/installcoreextra/">Installing Core & Extra Integrations</a>
              </li>
              
              <li>
                <a href="/guides/eventcorrelation/">Correlating Events with Metrics</a>
              </li>
              
              <li>
                <a href="/guides/metrics/">Sending Metrics with DogStatsD</a>
              </li>
              
              <li>
                <a href="/guides/logs/">Log Parsing in the Agent</a>
              </li>
              
              <li>
                <a href="/guides/testing/">Testing Integrations</a>
              </li>
              
              <li>
                <a href="/guides/agent_checks/">Writing an Agent Check</a>
              </li>
              
              <li>
                <a href="/guides/chef/">Deploying the Agent with Chef</a>
              </li>
              
              <li>
                <a href="/guides/azure/">Deploying the Datadog Agent to Azure</a>
              </li>
              
              <li>
                <a href="/guides/monitors/">Guide to Monitors</a>
              </li>
              
              <li>
                <a href="/guides/composite_monitors/">Guide to Composite Monitors</a>
              </li>
              
              <li>
                <a href="/guides/markdown/">Using Markdown in Datadog events</a>
              </li>
              
              <li>
                <a href="/guides/autodiscovery/">Guide to using Autodiscovery with Docker</a>
              </li>
              
              <li>
                <a href="/guides/tagging/">Guide to Tagging</a>
              </li>
              
              <li>
                <a href="/guides/templating/">Guide to Dashboard Templating</a>
              </li>
              
              <li>
                <a href="/guides/saml/">Single Sign On With SAML</a>
              </li>
              
              <li>
                <a href="/guides/eventsemail/">Events via Email</a>
              </li>
              
              <li>
                <a href="/guides/new_integration/">Officially Integrating with Datadog</a>
              </li>
              
              <li>
                <a href="/guides/anomalies/">Anomaly Detection</a>
              </li>
              
              <li>
                <a href="/guides/outliers/">Outlier Detection</a>
              </li>
              
              <li>
                <a href="/guides/multiaccountorg/">Configuring Teams & Organizations with Multiple Accounts</a>
              </li>
              
          </ul>
        </li>
        <li class="dropdown">
          <a id="nav-reference-dropdown" href="#" role="button" class="dropdown-toggle" data-toggle="dropdown">References <b class="caret"></b></a>
          <ul class="dropdown-menu dropdown-menu-left" role="menu" aria-labelledby="nav-guide-dropdown">
            <li><a href="/api/">API</a></li>
            <li><a href="/tracing/">Tracing (APM)</a></li>
            <li><a href="/libraries/">Libraries</a></li>
            <li><a href="/monitoring/">Monitoring</a></li>
            <li><a href="/graphing/">Graphing</a></li>
            <li><a href="/graphingjson/">Graphing using JSON</a></li>
            <li><a href="/hostnames/">Host Names</a></li>
            <li><a href="/integrations/">Integrations</a></li>
            <li><a href="/guides/dogstatsd/">DogStatsD</a></li>
            <li><a href="/examples/">Examples</a></li>
            <li><a href="/videos/">Videos</a></li>
            <li><a href="/guides/billing/">Billing</a></li>
            <li><a href="/faq/">FAQ</a></li>
          </ul>
        </li>
        
        <li class="hidden-sm hidden-md hidden-lg">
          <form class="navbar-form navbar-left" role="search" action="/search/">
            <div class="form-group">
              <input type="text" name="q" id="tipue_search_input" required class="form-control" placeholder="Search">
            </div>
          </form>
        </li>
        
        <li><a href="/help/">Help</a></li>
        <li id="signin">
          <a class="btn navbar-btn flexbutton blueflex" href="https://app.datadoghq.com/signup">Free Trial</a>
        </li>
        <li id="signup">
          <a class="btn navbar-btn flexbutton" href="https://help.datadoghq.com/hc/en-us/signin?return_to=https%3A%2F%2Fhelp.datadoghq.com%2Fhc%2Fen-us&locale=1">Support Login</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- END HEADER -->

    <div class="container">
      <div class="row">
        <!-- SIDEBAR -->
        <div class="col-sm-3 col-xs-12" id="sidebarcolumn">
          <ul class="nav nav-tabs nav-stacked sidebar">
            
            <li class="nav-header hidden-xs">Documentation Search</li>
            <li class="hidden-xs">
              <form action="/search/">
                <input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
              </form>
            </li>
            
            <li class='nav-header'>Table of Contents</li><li><a style='' href='#overview' onclick="$('#').collapse('show')">
Overview</a></li><li><a style='' href='#installation' onclick="$('#').collapse('show')">
Installation</a></li><li><a style='' href='#configuration' onclick="$('#').collapse('show')">
Configuration</a></li><li><a style='padding: 5px 25px;' href='#configuration-options' onclick="$('#').collapse('show')">
Configuration Options</a></li><li><a style='padding: 5px 25px;' href='#custom-metrics' onclick="$('#').collapse('show')">
Custom metrics</a></li><li><a style='' href='#validation' onclick="$('#').collapse('show')">
Validation</a></li><li><a style='' href='#metrics' onclick="$('#').collapse('show')">
Metrics</a></li>

            <li class="nav-header auto">Other Integrations <span class="toggle visible-xs-inline">(<a href="#toggleIntegrations" data-toggle="collapse">Toggle to show integrations</a>)<br></span></li>
            <div class="collapse div-collapse" id="toggleIntegrations">
              <li><a href="/integrations/">Back to Overview</a></li>
              
                
              
              
                
                
                
                  <li><a href="/integrations/activemq/">ActiveMQ</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/airbrake/">Airbrake *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/aws/">Amazon Web Services</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/ansible/">Ansible *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/apache/">Apache</a></li>
                
              
                
                
                
                  <li><a href="/integrations/kafka/">Apache Kafka</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsapigateway/">AWS API Gateway</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsautoscaling/">AWS Auto Scaling</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/awsbilling/">AWS Billing *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awscloudfront/">AWS CloudFront</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awscloudsearch/">AWS CloudSearch</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awscloudtrail/">AWS CloudTrail</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsdynamo/">AWS DynamoDB</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsec2/">AWS EC2</a></li>
                
              
                
                
                
                  <li><a href="/integrations/ecs/">AWS ECS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsbeanstalk/">AWS Elastic Beanstalk</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsebs/">AWS Elastic Block Store</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsefs/">AWS Elastic File System</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsemr/">AWS Elastic Map Reduce</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awselasticache/">AWS ElastiCache</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awselb/">AWS ELB</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awses/">AWS ES</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsfirehose/">AWS Firehose</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsiot/">AWS Internet of Things</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awskms/">AWS Key Management Service</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awskinesis/">AWS Kinesis</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awslambda/">AWS Lambda</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsml/">AWS Machine Learning</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsopsworks/">AWS OpsWorks</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awspolly/">AWS Polly</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsrds/">AWS RDS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsredshift/">AWS Redshift</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsroute53/">AWS Route 53</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/awss3/">AWS S3 *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsses/">AWS SES</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsswf/">AWS Simple Workflow Service</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awssns/">AWS SNS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awssqs/">AWS SQS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsstoragegateway/">AWS Storage Gateway</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awswaf/">AWS Web Application Firewall</a></li>
                
              
                
                
                
                  <li><a href="/integrations/awsworkspaces/">AWS Workspaces</a></li>
                
              
                
                
                
                  <li><a href="/integrations/bitbucket/">Bitbucket</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/btrfs/">btrfs *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/bugsnag/">Bugsnag *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/cacti/">Cacti *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/campfire/">Campfire *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/capistrano/">Capistrano *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/cassandra/">Cassandra</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/catchpoint/">Catchpoint *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/ceph/">Ceph</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/chatwork/">Chatwork *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/chef/">Chef</a></li>
                
              
                
                
                
                  <li><a href="/integrations/consul/">Consul</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/couchbase/">Couchbase *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/couchdb/">CouchDB</a></li>
                
              
                
                
                
                  <li><a href="/integrations/desk/">Desk</a></li>
                
              
                
                
                
                  <li><a href="/integrations/directory/">Directory Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/disk/">Disk Check</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/dnscheck/">DNS Service Check *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/docker/">Docker</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/dyn/">Dyn *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/elasticsearch/">Elasticsearch</a></li>
                
              
                
                
                
                  <li><a href="/integrations/etcd/">etcd</a></li>
                
              
                
                
                
                  <li><a href="/integrations/eventviewer/">Event Viewer</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/expressjs/">ExpressJS *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/fabric/">Fabric *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/fastly/">Fastly *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/flowdock/">Flowdock *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/fluentd/">Fluentd *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/gearman/">Gearman</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/git/">Git *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/github/">Github</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/goexpvar/">Go Expvar *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/google_app_engine/">Google App Engine</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_big_query/">Google BigQuery *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_functions/">Google Cloud Functions *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/google_cloud_platform/">Google Cloud Platform</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloudsql/">Google CloudSQL *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_compute_engine/">Google Compute Engine *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_container_engine/">Google Container Engine *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_datastore/">Google Datastore *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_firebase/">Google Firebase *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_ml/">Google Machine Learning *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_pubsub/">Google Pub/Sub *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_spanner/">Google Spanner *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_stackdriver_logging/">Google Stackdriver Logging *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_storage/">Google Storage *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/google_cloud_vpn/">Google VPN *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/gunicorn/">gunicorn</a></li>
                
              
                
                
                
                  <li><a href="/integrations/hdfs/">Hadoop HDFS</a></li>
                
              
                
                
                
                  <li><a href="/integrations/mapreduce/">Hadoop MapReduce</a></li>
                
              
                
                
                
                  <li><a href="/integrations/yarn/">Hadoop YARN</a></li>
                
              
                
                
                
                  <li><a href="/integrations/haproxy/">HAProxy</a></li>
                
              
                
                
                
                  <li><a href="/integrations/hipchat/">HipChat</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/honeybadger/">Honeybadger *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/httpcheck/">HTTP Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/iis/">IIS</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/immunio/">Immunio *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/java/">Java/JMX</a></li>
                
              
                
                
                
                  <li><a href="/integrations/jenkins/">Jenkins</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/jira/">Jira *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/kong/">Kong *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/kubernetes/">Kubernetes</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/kyototycoon/">Kyoto Tycoon *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/lighttpd/">Lighttpd</a></li>
                
              
                
                
                
                  <li><a href="/integrations/marathon/">Marathon</a></li>
                
              
                
                
                
                  <li><a href="/integrations/memcached/">Memcached</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/mesos/">Mesos *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/azure/">Microsoft Azure</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_app_services/">Microsoft Azure App Service *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_batch/">Microsoft Azure Batch Service *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_event_hub/">Microsoft Azure Event Hub Service *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_iot_hub/">Microsoft Azure IOT Hub *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_logic_app/">Microsoft Azure Logic App *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_redis_cache/">Microsoft Azure Redis Cache *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_sql_database/">Microsoft Azure SQL Database *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_sql_elastic_pool/">Microsoft Azure SQL Elastic Pool *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/azure_storage/">Microsoft Azure Storage</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_vm_scale_set/">Microsoft Azure Virtual Machine Scale Set *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/azure_vm/">Microsoft Azure VM *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/mongodb/">MongoDB</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/moxtra/">Moxtra *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/mparticle/">mParticle *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/mysql/">MySQL</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/nagios/">Nagios *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/network/">Network Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/new_relic/">New Relic</a></li>
                
              
                
                
                
                  <li><a href="/integrations/nginx/">NGINX</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/nodejs/">NodeJS *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/ntp/">NTP Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/openstack/">OpenStack</a></li>
                
              
                
                
                
                  <li><a href="/integrations/opsgenie/">OpsGenie</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/opsmatic/">Opsmatic *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/pagerduty/">PagerDuty *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/papertrail/">PaperTrail *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/pgbouncer/">PGBouncer</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/php/">PHP *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/phpfpm/">PHP-FPM *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/pingdom/">Pingdom</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/pivotal/">Pivotal Tracker *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/postfix/">Postfix *</a></li>
                
              
                
                
                
                  <li class='selected_integration'>
                    <a href="#">> PostgreSQL</a>
                  </li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/powerdns/">PowerDNS Recursor *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/process/">Process Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/puppet/">Puppet</a></li>
                
              
                
                
                
                  <li><a href="/integrations/python/">Python</a></li>
                
              
                
                
                
                  <li><a href="/integrations/rabbitmq/">RabbitMQ</a></li>
                
              
                
                
                
                  <li><a href="/integrations/redis/">Redis</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/redmine/">Redmine *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/riak/">Riak *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/riakcs/">RiakCS</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/rollbar/">Rollbar *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/rss/">RSS *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/ruby/">Ruby</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/sentry/">Sentry *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/servicenow/">ServiceNow</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/slack/">Slack *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/snmp/">SNMP</a></li>
                
              
                
                
                
                  <li><a href="/integrations/solr/">Solr</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/spark/">Spark *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/splunk/">Splunk</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/sqlserver/">SQL Server *</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/ssh/">ssh *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/statsd/">StatsD</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/statuspage/">StatusPageIO *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/sumologic/">Sumo Logic</a></li>
                
              
                
                
                
                  <li><a href="/integrations/supervisor/">Supervisor</a></li>
                
              
                
                
                
                  <li><a href="/integrations/system/">System Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/systemcore/">System Core</a></li>
                
              
                
                
                
                  <li><a href="/integrations/tcpcheck/">TCP Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/tcprtt/">TCP RTT Check</a></li>
                
              
                
                
                
                  <li><a href="/integrations/teamcity/">TeamCity</a></li>
                
              
                
                
                
                  <li><a href="/integrations/tokumx/">TokuMX</a></li>
                
              
                
                
                
                  <li><a href="/integrations/tomcat/">Tomcat</a></li>
                
              
                
                
                
                  <li><a href="/integrations/varnish/">Varnish</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/victorops/">VictorOps *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/vmware/">VMware</a></li>
                
              
                
                
                
                  <li><a href="/integrations/webhooks/">Webhooks</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/winservices/">Windows Services *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/wmi/">WMI</a></li>
                
              
                
                
                  
                
                
                  <li><a href="/integrations/zendesk/">Zendesk *</a></li>
                
              
                
                
                
                  <li><a href="/integrations/zookeeper/">Zookeeper</a></li>
                
              
            </div>
          </ul>
        &nbsp;
        </div>

        <!-- MAIN -->
        <div class="col-sm-9 col-xs-12 main">
          <!-- PAGE TITLE -->
          <h1 id="pagetitle">Datadog-PostgreSQL Integration </h1>
          
          <div id="pagecontent">
            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<h1 id="overview" class="linked-header">
<a class="header-link" href="#overview"><i class="fa fa-link"></i></a>Overview</h1>

<p><img src="/static/images/pggraph.png" alt="PostgreSQL Graph">
Connect PostgreSQL to Datadog in order to:</p>

<ul>
  <li>Visualize your database performance.</li>
  <li>Correlate the performance of PostgreSQL with the rest of your applications.</li>
</ul>

<h1 id="installation" class="linked-header">
<a class="header-link" href="#installation"><i class="fa fa-link"></i></a>Installation</h1>

<p>To get started with the PostgreSQL integration, create at least a read-only datadog user with proper access to your PostgreSQL Server. Start psql on your PostgreSQL database and run:</p>

<div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#B06;font-weight:bold">create</span> user datadog with password <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">&lt;PASSWORD&gt;</span><span style="color:#710">'</span></span>;
<span style="color:#B06;font-weight:bold">grant</span> <span style="color:#B06;font-weight:bold">SELECT</span> <span style="color:#080;font-weight:bold">ON</span> pg_stat_database <span style="color:#080;font-weight:bold">to</span> datadog;
</pre></div>
</div>
</div>

<p>To verify the correct permissions you can run the following command:</p>

<div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre>psql -h localhost -U datadog postgres -c \
"select * from pg_stat_database LIMIT(1);"
&amp;&amp; echo -e "\e[0;32mPostgres connection - OK\e[0m" || \ 
|| echo -e "\e[0;31mCannot connect to Postgres\e[0m"
</pre></div>
</div>
</div>

<p>When it prompts for a password, enter the one used in the first command.</p>

<h1 id="configuration" class="linked-header">
<a class="header-link" href="#configuration"><i class="fa fa-link"></i></a>Configuration</h1>

<ol>
  <li>
    <p>Configure the Agent to connect to PostgreSQL. Edit conf.d/postgres.yaml:</p>

    <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#606">init_config</span>:

<span style="color:#606">instances</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">host: localhost</span></span>
    <span style="color:#606">port</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">5432</span></span>
</pre></div>
</div>
    </div>
  </li>
  <li>
    <p>Restart the agent.</p>
  </li>
</ol>

<h2 id="configuration-options" class="linked-header">
<a class="header-link" href="#configuration-options"><i class="fa fa-link"></i></a>Configuration Options</h2>

<ul>
  <li>
<code>username</code> (Optional)</li>
  <li>
<code>password</code> (Optional)</li>
  <li>
<code>dbname</code> (Optional) - Name of the database you want to monitor</li>
  <li>
<code>ssl</code> (Optional) - Defaults to False. Whether to use SSL to connect.</li>
  <li>
<code>tags</code> (Optional) - Dictionary of tags</li>
  <li>
    <p><code>relations</code> (Optional) - Dictionary of per-relation (table) metrics that you want to track. Each relation generates 10 metrics + 10 metrics per index.</p>

    <p>By default all schemas are included. To track relations from specific schemas only, use the following syntax:</p>

    <div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#606">relations</span>:
  - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">relation_name: another_table</span></span>
    <span style="color:#606">schemas</span>:
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">public</span></span>
      - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">prod</span></span>
</pre></div>
</div>
    </div>
  </li>
  <li>
<code>collect_function_metrics</code> (Optional) - Collect metrics regarding PL/pgSQL functions from pg_stat_user_functions</li>
  <li>
<code>collect_count_metrics</code> (Optional) - Collect count metrics, default value is True for backward compatibility but they migth be slow, suggested value is False.</li>
</ul>

<h2 id="custom-metrics" class="linked-header">
<a class="header-link" href="#custom-metrics"><i class="fa fa-link"></i></a>Custom metrics</h2>

<p>Below are some examples of commonly used metrics, which are implemented as custom metrics. Uncomment them if you want to use them as is, or use as an example for creating your own custom metrics. </p>

<p>The format for describing custome metrics is identical with the one used for common metrics in <code>postgres.py</code>. Be extra careful with ensuring proper custom metrics description format. If your custom metric does not work after an agent restart, look for errors in the output of <code>/etc/init.d/datadog-agent info</code> command, as well as <code>/var/log/datadog/collector.log</code> file.</p>

<div class="highlighter-coderay">
<div class="CodeRay">
  <div class="code"><pre><span style="color:#606">custom_metrics</span>:
- <span style="color:#777"># Londiste 3 replication lag</span>
  <span style="color:#606">descriptors</span>:
    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[consumer_name, consumer_name]</span></span>
  <span style="color:#606">metrics</span>:
    <span style="color:#F00;background-color:#FAA">&gt;</span>
      <span style="color:#F00;background-color:#FAA">GREATEST(0, EXTRACT(EPOCH FROM lag)) as lag: </span>
      [<span style="color:#F00;background-color:#FAA">postgresql.londiste_lag, GAUGE]</span>
    <span style="color:#F00;background-color:#FAA">&gt;</span>
      <span style="color:#F00;background-color:#FAA">GREATEST(0, EXTRACT(EPOCH FROM lag)) as last_seen: </span>
      [<span style="color:#F00;background-color:#FAA">postgresql.londiste_last_seen, GAUGE]</span>
    <span style="color:#606">pending_events</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[postgresql.londiste_pending_events, GAUGE]</span></span>
  <span style="color:#606">query</span>: 
    <span style="color:#F00;background-color:#FAA">&gt;</span>
      <span style="color:#F00;background-color:#FAA">SELECT consumer_name, %s from pgq.get_consumer_info() </span>
      <span style="color:#F00;background-color:#FAA">where consumer_name !~ 'watermark$';</span>
  <span style="color:#606">relation</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">false</span></span>
<span style="color:#606">collect_function_metrics</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">False</span></span>
<span style="color:#606">collect_count_metrics</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">False</span></span>
</pre></div>
</div>
</div>

<p>For more details about configuring this integration refer to the following file(s) on GitHub:</p>
<ul>
<li><a href="https://github.com/Datadog/integrations-core/blob/master/postgres/conf.yaml.example">PostgreSQL YAML example</a></li>
<li><a href="https://github.com/Datadog/integrations-core/blob/master/postgres/check.py">PostgreSQL checks.d</a></li>
</ul>

<h1 id="validation" class="linked-header">
<a class="header-link" href="#validation"><i class="fa fa-link"></i></a>Validation</h1>

<p>After you restart the agent, you should be able to run the <code>info</code> command which will now include a section like this if the PostgreSQL integration is working:</p>

<pre><code>Checks
======

  [...]

  postgres
  --------
      - instance #0 [OK]
      - Collected 47 metrics &amp; 0 events
</code></pre>

<h1 id="metrics" class="linked-header">
<a class="header-link" href="#metrics"><i class="fa fa-link"></i></a>Metrics</h1>

<table class="table">
<tr>
<td>
<strong>postgresql.connections</strong><br>(gauge)</td>
<td>The number of active connections to this database.<br><em>shown as connection</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.commits</strong><br>(gauge)</td>
<td>The number of transactions that have been committed in this database.<br><em>shown as transaction/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.rollbacks</strong><br>(gauge)</td>
<td>The number of transactions that have been rolled back in this database.<br><em>shown as transaction/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.disk_read</strong><br>(gauge)</td>
<td>The number of disk blocks read in this database.<br><em>shown as block/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.buffer_hit</strong><br>(gauge)</td>
<td>The number of times disk blocks were found in the buffer cache, preventing the need to read from the database. <br><em>shown as hit/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.rows_returned</strong><br>(gauge)</td>
<td>The number of rows returned by queries in this database<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.rows_fetched</strong><br>(gauge)</td>
<td>The number of rows fetched by queries in this database<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.rows_inserted</strong><br>(gauge)</td>
<td>The number of rows inserted by queries in this database<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.rows_updated</strong><br>(gauge)</td>
<td>The number of rows updated by queries in this database<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.rows_deleted</strong><br>(gauge)</td>
<td>The number of rows deleted by queries in this database<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.database_size</strong><br>(gauge)</td>
<td>The disk space used by this database.<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.deadlocks</strong><br>(gauge)</td>
<td>The number of deadlocks detected in this database<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.temp_bytes</strong><br>(gauge)</td>
<td>The amount of data written to temporary files by queries in this database.<br><em>shown as byte/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.temp_files</strong><br>(gauge)</td>
<td>The number of temporary files created by queries in this database.<br><em>shown as file/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.checkpoints_timed</strong><br>(count)</td>
<td>The number of scheduled checkpoints that were performed.<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.checkpoints_requested</strong><br>(count)</td>
<td>The number of requested checkpoints that were performed.<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.buffers_checkpoint</strong><br>(count)</td>
<td>The number of buffers written during checkpoints.<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.buffers_clean</strong><br>(count)</td>
<td>The number of buffers written by the background writer.<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.maxwritten_clean</strong><br>(count)</td>
<td>The number of times the background writer stopped a cleaning scan due to writing too many buffers.<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.buffers_backend</strong><br>(count)</td>
<td>The number of buffers written directly by a backend.<br><em>shown as buffer</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.buffers_alloc</strong><br>(count)</td>
<td>The number of buffers allocated<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.buffers_backend_fsync</strong><br>(count)</td>
<td>The of times a backend had to execute its own fsync call instead of the background writer.<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.write_time</strong><br>(count)</td>
<td>The total amount of checkpoint processing time spent writing files to disk.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.bgwriter.sync_time</strong><br>(count)</td>
<td>The total amount of checkpoint processing time spent synchronizing files to disk.<br><em>shown as millisecond</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.locks</strong><br>(gauge)</td>
<td>The number of locks active for this database.<br><em>shown as lock</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.seq_scans</strong><br>(gauge)</td>
<td>The number of sequential scans initiated on this table.<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.seq_rows_read</strong><br>(gauge)</td>
<td>The number of live rows fetched by sequential scans.<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.index_scans</strong><br>(gauge)</td>
<td>The number of index scans initiated on this table.<em></em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.index_rows_fetched</strong><br>(gauge)</td>
<td>The number of live rows fetched by index scans.<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.rows_hot_updated</strong><br>(gauge)</td>
<td>The number of rows HOT updated, meaning no separate index update was needed.<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.live_rows</strong><br>(gauge)</td>
<td>The estimated number of live rows.<br><em>shown as row</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.dead_rows</strong><br>(gauge)</td>
<td>The estimated number of dead rows.<br><em>shown as row</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.index_rows_read</strong><br>(gauge)</td>
<td>The number of index entries returned by scans on this index.<br><em>shown as row/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.table_size</strong><br>(gauge)</td>
<td>The total disk space used by the specified table. Includes TOAST, free space map, and visibility map. Excludes indexes.<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.index_size</strong><br>(gauge)</td>
<td>The total disk space used by indexes attached to the specified table.<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.total_size</strong><br>(gauge)</td>
<td>The total disk space used by the table, including indexes and TOAST data.<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.table.count</strong><br>(gauge)</td>
<td>The number of user tables in this database.<br><em>shown as table</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.max_connections</strong><br>(gauge)</td>
<td> The maximum number of client connections allowed to this database.<br><em>shown as connection</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.percent_usage_connections</strong><br>(gauge)</td>
<td>The number of connections to this database as a fraction of the maximum number of allowed connections.<br><em>shown as fraction</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.replication_delay</strong><br>(gauge)</td>
<td>The current replication delay in seconds. Only available with postgresql 9.1 and newer<br><em>shown as second</em>
</td>
</tr>
<tr>
<td>
<strong>postgres.replication_delay_bytes</strong><br>(gauge)</td>
<td>The current replication delay in bytes. Only available with postgresql 9.2 and newer<br><em>shown as byte</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.heap_blocks_read</strong><br>(gauge)</td>
<td>The number of disk blocks read from this table.<br><em>shown as block/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.heap_blocks_hit</strong><br>(gauge)</td>
<td>The number of buffer hits in this table.<br><em>shown as hit/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.index_blocks_read</strong><br>(gauge)</td>
<td>The number of disk blocks read from all indexes on this table.<br><em>shown as block/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.index_blocks_hit</strong><br>(gauge)</td>
<td>The number of buffer hits in all indexes on this table.<br><em>shown as hit/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.toast_blocks_read</strong><br>(gauge)</td>
<td>The number of disk blocks read from this table's TOAST table.<br><em>shown as block/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.toast_blocks_hit</strong><br>(gauge)</td>
<td>The number of buffer hits in this table's TOAST table.<br><em>shown as hit/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.toast_index_blocks_read</strong><br>(gauge)</td>
<td>The number of disk blocks read from this table's TOAST table index.<br><em>shown as block/second</em>
</td>
</tr>
<tr>
<td>
<strong>postgresql.toast_index_blocks_hit</strong><br>(gauge)</td>
<td>The number of buffer hits in this table's TOAST table index.<br><em>shown as block/second</em>
</td>
</tr>
</table>

</body></html>

          </div>
        </div>
      </div>
    </div>
    <div class="container">
  <div class="row" id="footer">
    <div class=".col-md-12">Need some help?  <a href="/help/">Get in touch.</a> &bull; Mistake in the docs? <a href="https://github.com/DataDog/documentation/issues">Let us know.</a></div>
    <div class=".col-md-12"><a href="/ja">日本語ドキュメントへのリンク。</a></div>
    <div class=".col-md-12">&copy; Datadog, Inc. All rights reserved.</div>
  </div>
</div>

    

        <script type="text/javascript">
      ;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];
      p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)
      };p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;
      n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,"script","https://don08600y3gfm.cloudfront.net/ps3b/static/js/plow232.js","snowplow"));
      window.snowplow('newTracker', 'co', 'collector.datadoghq.com', { // Initialise a tracker
      appId: 'datadog', // Application ID. Make sure you use the same value across all the tags you fire on your trial
      platform: 'web',
      cookieDomain: '.datadoghq.com',
      contexts: {
        performanceTiming: true,
        webPage: true
        }
      });
      window.snowplow('enableActivityTracking', 5, 5); // Ping every 30 seconds after 30 seconds
      window.snowplow('enableLinkClickTracking');
      window.snowplow('trackPageView');
    </script>

        <script type="text/javascript">
      (function() {
       var didInit = false;
       function initMunchkin() {
         if(didInit === false) {
           didInit = true;
           Munchkin.init('875-UVY-685');
         }
       }
       var s = document.createElement('script');
       s.type = 'text/javascript';
       s.async = true;
       s.src = '//munchkin.marketo.net/munchkin.js';
       s.onreadystatechange = function() {
         if (this.readyState == 'complete' || this.readyState == 'loaded') {
           initMunchkin();
         }
       };
       s.onload = initMunchkin;
       document.getElementsByTagName('head')[0].appendChild(s);
      })();
    </script>


    <!-- <script src="/static/jquery-1.7.2.min.js"></script> -->
<script src="/static/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch-set.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch_content.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch.js"></script>
<script src="/static/datadog-docs.js"></script>


    <!-- No page Javascript -->

  </body>
</html>
