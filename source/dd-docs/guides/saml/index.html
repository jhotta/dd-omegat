

<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Single Sign On With SAML</title>
    

    <meta itemprop="description" name="description" property="og:description" content="" />

    <link href="//fonts.googleapis.com/css?family=Open+Sans:700" rel="stylesheet" type="text/css">
    <link href="/static/css/bootstrap3-cbdde23cd71.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/tipuesearch.css">
    <link href="/static/css/style-cba6fad8d5d.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/static/pygments.css" media="screen">


    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>


    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21102638-5']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <script src="https://use.fontawesome.com/700fac0342.js"></script>
    
  </head>

  <body>
    <!-- HEADER -->
<div class="navbar navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#topmenu" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand " href="/">
        <img src="/static/dd_docs_logo.png">
      </a>
    </div>
    <div class="collapse navbar-collapse" id="topmenu">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Guides <span class="caret"></span></a>
          <ul class="dropdown-menu">
          
            
              <li>
                <a href="/guides/basic_agent_usage/">Getting Started with the Agent</a>
              </li>
              
              <li>
                <a href="/guides/overview/">Datadog Overview</a>
              </li>
              
              <li>
                <a href="/guides/hostmap/">Host Map Overview</a>
              </li>
              
              <li>
                <a href="/guides/integration_sdk/">Creating New Integrations</a>
              </li>
              
              <li>
                <a href="/guides/installcoreextra/">Installing Core & Extra Integrations</a>
              </li>
              
              <li>
                <a href="/guides/eventcorrelation/">Correlating Events with Metrics</a>
              </li>
              
              <li>
                <a href="/guides/metrics/">Sending Metrics with DogStatsD</a>
              </li>
              
              <li>
                <a href="/guides/logs/">Log Parsing in the Agent</a>
              </li>
              
              <li>
                <a href="/guides/testing/">Testing Integrations</a>
              </li>
              
              <li>
                <a href="/guides/agent_checks/">Writing an Agent Check</a>
              </li>
              
              <li>
                <a href="/guides/chef/">Deploying the Agent with Chef</a>
              </li>
              
              <li>
                <a href="/guides/azure/">Deploying the Datadog Agent to Azure</a>
              </li>
              
              <li>
                <a href="/guides/monitors/">Guide to Monitors</a>
              </li>
              
              <li>
                <a href="/guides/composite_monitors/">Guide to Composite Monitors</a>
              </li>
              
              <li>
                <a href="/guides/markdown/">Using Markdown in Datadog events</a>
              </li>
              
              <li>
                <a href="/guides/autodiscovery/">Guide to using Autodiscovery with Docker</a>
              </li>
              
              <li>
                <a href="/guides/tagging/">Guide to Tagging</a>
              </li>
              
              <li>
                <a href="/guides/templating/">Guide to Dashboard Templating</a>
              </li>
              
              <li>
                <a href="/guides/saml/">Single Sign On With SAML</a>
              </li>
              
              <li>
                <a href="/guides/eventsemail/">Events via Email</a>
              </li>
              
              <li>
                <a href="/guides/new_integration/">Officially Integrating with Datadog</a>
              </li>
              
              <li>
                <a href="/guides/anomalies/">Anomaly Detection</a>
              </li>
              
              <li>
                <a href="/guides/outliers/">Outlier Detection</a>
              </li>
              
              <li>
                <a href="/guides/multiaccountorg/">Configuring Teams & Organizations with Multiple Accounts</a>
              </li>
              
          </ul>
        </li>
        <li class="dropdown">
          <a id="nav-reference-dropdown" href="#" role="button" class="dropdown-toggle" data-toggle="dropdown">References <b class="caret"></b></a>
          <ul class="dropdown-menu dropdown-menu-left" role="menu" aria-labelledby="nav-guide-dropdown">
            <li><a href="/api/">API</a></li>
            <li><a href="/tracing/">Tracing (APM)</a></li>
            <li><a href="/libraries/">Libraries</a></li>
            <li><a href="/monitoring/">Monitoring</a></li>
            <li><a href="/graphing/">Graphing</a></li>
            <li><a href="/graphingjson/">Graphing using JSON</a></li>
            <li><a href="/hostnames/">Host Names</a></li>
            <li><a href="/integrations/">Integrations</a></li>
            <li><a href="/guides/dogstatsd/">DogStatsD</a></li>
            <li><a href="/examples/">Examples</a></li>
            <li><a href="/videos/">Videos</a></li>
            <li><a href="/guides/billing/">Billing</a></li>
            <li><a href="/faq/">FAQ</a></li>
          </ul>
        </li>
        
        <li class="hidden-sm hidden-md hidden-lg">
          <form class="navbar-form navbar-left" role="search" action="/search/">
            <div class="form-group">
              <input type="text" name="q" id="tipue_search_input" required class="form-control" placeholder="Search">
            </div>
          </form>
        </li>
        
        <li><a href="/help/">Help</a></li>
        <li id="signin">
          <a class="btn navbar-btn flexbutton blueflex" href="https://app.datadoghq.com/signup">Free Trial</a>
        </li>
        <li id="signup">
          <a class="btn navbar-btn flexbutton" href="https://help.datadoghq.com/hc/en-us/signin?return_to=https%3A%2F%2Fhelp.datadoghq.com%2Fhc%2Fen-us&locale=1">Support Login</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- END HEADER -->

    <div class="container">
      <div class="row">
      
        <!-- SIDEBAR -->
        <div class="col-sm-3 col-md-3 hidden-xs hidden-print" id="sidebarcolumn">
          <ul class="nav nav-tabs nav-stacked sidebar">
          
            <li class="nav-header">Documentation Search</li>
            <li>
              <form action="/search/">
                <input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
              </form>
            </li>
            
            <li class='nav-header'>Table of Contents</li><li><a style='' href='#saml' onclick="$('#').collapse('show')">
SAML</a></li><li><a style='' href='#configuresaml' onclick="$('#').collapse('show')">
Configure SAML</a></li><li><a style='' href='#ddspdetails' onclick="$('#').collapse('show')">
Datadog Service Provider Details</a></li><li><a style='' href='#settingattributes' onclick="$('#').collapse('show')">
Setting Attributes</a></li><li><a style='' href='#specific-saml-idp' onclick="$('#').collapse('show')">
Specific SAML IdP</a></li><li><a style='' href='#additionalfeatures' onclick="$('#').collapse('show')">
Additional Features</a></li><li><a style='padding: 5px 25px;' href='#just-in-time-provisioning-jit-provisioning' onclick="$('#').collapse('show')">
Just in Time Provisioning (JIT Provisioning)</a></li><li><a style='padding: 5px 25px;' href='#idp-initiated-login' onclick="$('#').collapse('show')">
IdP Initiated Login</a></li>
            
            
              <li class="nav-header">Guides </li>
              
              
                <li><a href="/guides/basic_agent_usage/">Getting Started with the Agent</a></li>
              
                <li><a href="/guides/overview/">Datadog Overview</a></li>
              
                <li><a href="/guides/hostmap/">Host Map Overview</a></li>
              
                <li><a href="/guides/integration_sdk/">Creating New Integrations</a></li>
              
                <li><a href="/guides/installcoreextra/">Installing Core & Extra Integrations</a></li>
              
                <li><a href="/guides/eventcorrelation/">Correlating Events with Metrics</a></li>
              
                <li><a href="/guides/metrics/">Sending Metrics with DogStatsD</a></li>
              
                <li><a href="/guides/logs/">Log Parsing in the Agent</a></li>
              
                <li><a href="/guides/testing/">Testing Integrations</a></li>
              
                <li><a href="/guides/agent_checks/">Writing an Agent Check</a></li>
              
                <li><a href="/guides/chef/">Deploying the Agent with Chef</a></li>
              
                <li><a href="/guides/azure/">Deploying the Datadog Agent to Azure</a></li>
              
                <li><a href="/guides/monitors/">Guide to Monitors</a></li>
              
                <li><a href="/guides/composite_monitors/">Guide to Composite Monitors</a></li>
              
                <li><a href="/guides/markdown/">Using Markdown in Datadog events</a></li>
              
                <li><a href="/guides/autodiscovery/">Guide to using Autodiscovery with Docker</a></li>
              
                <li><a href="/guides/tagging/">Guide to Tagging</a></li>
              
                <li><a href="/guides/templating/">Guide to Dashboard Templating</a></li>
              
                <li><a href="/guides/saml/">Single Sign On With SAML</a></li>
              
                <li><a href="/guides/eventsemail/">Events via Email</a></li>
              
                <li><a href="/guides/new_integration/">Officially Integrating with Datadog</a></li>
              
                <li><a href="/guides/anomalies/">Anomaly Detection</a></li>
              
                <li><a href="/guides/outliers/">Outlier Detection</a></li>
              
                <li><a href="/guides/multiaccountorg/">Configuring Teams & Organizations with Multiple Accounts</a></li>
              
            
          </ul>
        &nbsp;
        </div>
        <!-- END SIDEBAR -->
        
        <!-- MAIN -->
        <div class="col-xs-12 col-sm-9 col-md-9 main">
          <!-- PAGE TITLE -->
          
          <h1 id="pagetitle">Single Sign On With SAML </h1>
          
          
          <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p>This guide assumes that you already have a SAML Identity Provider up and running.</p>

<h2 id="saml" class="linked-header">
<a class="header-link" href="#saml"><i class="fa fa-link"></i></a>SAML</h2>

<p>Configuring <a href="http://en.wikipedia.org/wiki/Security_Assertion_Markup_Language">SAML (Security Assertion Markup Language)</a> for your Datadog account will let you and all your teammates log in to Datadog using the credentials stored in your organization’s Active Directory, LDAP, or other identity store that has been configured with a SAML Identity Provider.</p>

<h2 id="configuresaml" class="linked-header">
<a class="header-link" href="#configuresaml"><i class="fa fa-link"></i></a>Configure SAML</h2>
<p>If you are a Datadog Admin, there is a “Configure SAML” option in the drop down menu that is accessed by clicking on your username in the upper right corner of the Datadog web page.
<img src="/static/images/saml_configure.png" alt=""></p>

<p>That brings you to the “SAML Single Sign On Configuration” page where you can:</p>

<ol>
  <li>
    <p>Upload the IdP Metadata from your SAML Identity provider by clicking the “Choose File” button.</p>

    <p><img src="/static/images/saml_choose_file.png" alt=""></p>

    <p>After you’ve chosen the file, click “Upload File”.</p>
  </li>
  <li>Datadog’s <a href="https://app.datadoghq.com/account/saml/metadata.xml">Service Provider metadata can be found here</a>. You can use this SP Metadata to configure your IdP to recognize Datadog as a Service Provider.</li>
  <li>
    <p>After you upload the IdP Metadata and configure your IdP, you will need up enable SAML in Datadog by clicking the Enable button.
<img src="/static/images/saml_enable.png" alt="">
Once SAML is configured in Datadog and your IdP is set up to accept requests from Datadog, users can log in by using the Single Sign On URL that is shown in the Status box at the top of the SAML Configuration page.
<img src="/static/images/saml_enabled.png" alt="">
The Single Sign On URL will also be displayed on the Team page. Loading this URL will initiate a SAML authentication against your IdP. Please note that the URL will not be displayed until SAML is enabled for your account.</p>

  </li>
</ol>

<h2 id="ddspdetails" class="linked-header">
<a class="header-link" href="#ddspdetails"><i class="fa fa-link"></i></a>Datadog Service Provider Details</h2>

<ul>
  <li>Datadog supports the <strong>HTTP-POST</strong> binding for <strong>SAML2</strong>:
<code>urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST</code>.</li>
  <li>Datadog will specify <code>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</code> for the Format of the <strong>NameIDPolicy</strong> in Assertion Requests.</li>
  <li>Assertions must be signed.</li>
  <li>Assertions can be encrypted, but unencrypted assertions will be accepted.</li>
  <li>
    <p>Datadog’s SP Metadata can be found at <a href="https://app.datadoghq.com/account/saml/metadata.xml">https://app.datadoghq.com/account/saml/metadata.xml</a>.</p>

  </li>
</ul>

<h2 id="settingattributes" class="linked-header">
<a class="header-link" href="#settingattributes"><i class="fa fa-link"></i></a>Setting Attributes</h2>

<ul>
  <li>Attributes may be included with the Assertion. Datadog looks for 3 Attributes in the AttributeStatement:
    <ol>
      <li>
<strong>eduPersonPrincipalName</strong>: If specified, the eduPersonPrincipalName must correspond to the user’s Datadog username. The username is usually the user’s email address.</li>
      <li>
<strong>sn</strong>: This is optional, and should be set to the user’s surname.</li>
      <li>
<strong>givenName</strong>: This is optional, and should be set to the user’s first, or given name.</li>
    </ol>
  </li>
  <li>Datadog expects that Attributes use the NameFormat
<code>urn:oasis:names:tc:SAML:2.0:attrname-format:uri</code> or <code>urn:oasis:names:tc:SAML:2.0:attrname-format:basic</code>. The name used for each attribute will depend on the NameFormat that your IdP uses.</li>
  <li>If your IdP is configured to use the NameFormat <code>urn:oasis:names:tc:SAML:2.0:attrname-format:uri</code>:
    <ol>
      <li>
<strong>eduPersonPrincipalName</strong>: The IdP should set <code>urn:oid:1.3.6.1.4.1.5923.1.1.1.6</code> as the Name of the Attribute</li>
      <li>
<strong>sn</strong>: The IdP should set <code>urn:oid:2.5.4.4</code> as the Name of the Attribute</li>
      <li>
<strong>givenName</strong>: The IdP should set <code>urn:oid:2.5.4.42</code> as the Name of the Attribute</li>
    </ol>
  </li>
  <li>If your IdP is configured to use the NameFormat <code>urn:oasis:names:tc:SAML:2.0:attrname-format:basic</code>:
    <ol>
      <li>
<strong>eduPersonPrincipalName</strong>: The IdP should set <code>urn:mace:dir:attribute-def:eduPersonPrincipalName</code> as the Name of the Attribute</li>
      <li>
<strong>sn</strong>: The IdP should set <code>urn:mace:dir:attribute-def:sn</code> as the Name of the Attribute</li>
      <li>
<strong>givenName</strong>: The IdP should set <code>urn:mace:dir:attribute-def:givenName</code> as the Name of the Attribute</li>
    </ol>
  </li>
  <li>If <strong>eduPersonPrincipalName</strong> exists in the AttributeStatement, the value of this attribute will be used for the username. If <strong>eduPersonPrincipalName</strong> is not included in the AttributeStatement, the username will be taken from the NameID in the Subject. The NameID must use the Format <code>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</code>.</li>
  <li>If <strong>sn</strong> and <strong>givenName</strong> are provided, they will be used to update the user’s name in their Datadog profile.</li>
</ul>

<h2 id="specific-saml-idp" class="linked-header">
<a class="header-link" href="#specific-saml-idp"><i class="fa fa-link"></i></a>Specific SAML IdP</h2>

<p>For more information about configuring specific IdP’s, refer to the following Knowledge Base articles:</p>

<ul>
  <li><a href="https://help.datadoghq.com/hc/en-us/articles/208139913-How-do-I-configure-Google-as-a-SAML-IdP-">Google</a></li>
  <li><a href="https://help.datadoghq.com/hc/en-us/articles/207425226-How-do-I-setup-Microsoft-Active-Directory-Federation-Services-as-a-SAML-IdP-">Microsoft Active Directory Federation Services</a></li>
  <li><a href="https://help.datadoghq.com/hc/en-us/articles/211023623-How-do-I-configure-NoPassword-as-a-SAML-IdP-">NoPassword</a></li>
  <li><a href="https://help.datadoghq.com/hc/en-us/articles/210132743-How-do-I-configure-Okta-as-a-SAML-IdP-">Okta</a></li>
</ul>

<h2 id="additionalfeatures" class="linked-header">
<a class="header-link" href="#additionalfeatures"><i class="fa fa-link"></i></a>Additional Features</h2>
<p>The following features can be enabled through the SAML Configuration dialog.</p>

<h3 id="just-in-time-provisioning-jit-provisioning" class="linked-header">
<a class="header-link" href="#just-in-time-provisioning-jit-provisioning"><i class="fa fa-link"></i></a>Just in Time Provisioning (JIT Provisioning)</h3>
<p>Normally users must be invited to Datadog, even for organizations with SAML enabled. If a user that has not been invited to Datadog logs in via an Org’s IdP, the SAML assertion will be validated, but they will be redirected to a SAML Error page.</p>

<p>Some organizations might not want to have to invite all of their users to Datadog. If you would like to make changes to how SAML works for your account, contact support.</p>

<p>It is up to the organization to configure their IdP to not send assertions to Datadog if they don’t want a particular user to access Datadog.</p>

<h3 id="idp-initiated-login" class="linked-header">
<a class="header-link" href="#idp-initiated-login"><i class="fa fa-link"></i></a>IdP Initiated Login</h3>

<p>The normal workflow is that when the Datadog url is loaded, the browser is redirected to the customer IdP, user types in credentials, then the IdP redirects back to Datadog. Some IdPs have the ability to send an assertion directly to Datadog without first getting an AuthnRequest (IdP Initiated Login).</p>

<p>In the normal setup, we won’t know which org the assertion came from and this will result in an error page with a message saying that SAML Response is missing “InResponseTo” attribute.</p>

<p>After enabling the feature (and waiting for caches to clear) the customer will need to get a new version of the SP Metadata, which will have a different, org-specific AssertionConsumerService endpoint to send assertions to.</p>

</body></html>


          
        </div>
      </div>
    </div>
    <div class="container">
  <div class="row" id="footer">
    <div class=".col-md-12">Need some help?  <a href="/help/">Get in touch.</a> &bull; Mistake in the docs? <a href="https://github.com/DataDog/documentation/issues">Let us know.</a></div>
    <div class=".col-md-12"><a href="/ja">日本語ドキュメントへのリンク。</a></div>
    <div class=".col-md-12">&copy; Datadog, Inc. All rights reserved.</div>
  </div>
</div>

    

        <script type="text/javascript">
      ;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];
      p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)
      };p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;
      n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,"script","https://don08600y3gfm.cloudfront.net/ps3b/static/js/plow232.js","snowplow"));
      window.snowplow('newTracker', 'co', 'collector.datadoghq.com', { // Initialise a tracker
      appId: 'datadog', // Application ID. Make sure you use the same value across all the tags you fire on your trial
      platform: 'web',
      cookieDomain: '.datadoghq.com',
      contexts: {
        performanceTiming: true,
        webPage: true
        }
      });
      window.snowplow('enableActivityTracking', 5, 5); // Ping every 30 seconds after 30 seconds
      window.snowplow('enableLinkClickTracking');
      window.snowplow('trackPageView');
    </script>

        <script type="text/javascript">
      (function() {
       var didInit = false;
       function initMunchkin() {
         if(didInit === false) {
           didInit = true;
           Munchkin.init('875-UVY-685');
         }
       }
       var s = document.createElement('script');
       s.type = 'text/javascript';
       s.async = true;
       s.src = '//munchkin.marketo.net/munchkin.js';
       s.onreadystatechange = function() {
         if (this.readyState == 'complete' || this.readyState == 'loaded') {
           initMunchkin();
         }
       };
       s.onload = initMunchkin;
       document.getElementsByTagName('head')[0].appendChild(s);
      })();
    </script>


    <!-- <script src="/static/jquery-1.7.2.min.js"></script> -->
<script src="/static/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch-set.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch_content.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch.js"></script>
<script src="/static/datadog-docs.js"></script>


    <!-- No page Javascript -->
  </body>
</html>


