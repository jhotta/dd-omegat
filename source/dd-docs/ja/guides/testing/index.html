

<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Testing Integrations</title>
    

    <meta itemprop="description" name="description" property="og:description" content="" />

    <link href="//fonts.googleapis.com/css?family=Open+Sans:700" rel="stylesheet" type="text/css">
    <link href="/static/css/bootstrap3-cbdde23cd71.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/tipuesearch.css">
    <link href="/static/css/style-cba6fad8d5d.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/static/pygments.css" media="screen">


    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>


    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21102638-5']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <script src="https://use.fontawesome.com/700fac0342.js"></script>
    
  </head>

  <body>
    <!-- HEADER -->
<div class="navbar navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#topmenu" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand " href="/ja/">
        <img src="/static/dd_docs_logo.png">
      </a>
    </div>
    <div class="collapse navbar-collapse" id="topmenu">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">ガイド <span class="caret"></span></a>
          <ul class="dropdown-menu">
          
            
              <li>
                <a href="/ja/overview/">Datadogが提供するサービスの概要</a>
              </li>
              
              <li>
                <a href="/ja/guides/basic_agent_usage/">Datadog Agent 入門</a>
              </li>
              
              <li>
                <a href="/ja/guides/metrics/">DogStatsD を使った、メトリクスの送信</a>
              </li>
              
              <li>
                <a href="/ja/guides/logs/">Datadog Agent によるログの解析方法</a>
              </li>
              
              <li>
                <a href="/ja/guides/hostmap/">Host Map表示の入門</a>
              </li>
              
              <li>
                <a href="/ja/guides/agent_checks/">Agent Checkの書き方</a>
              </li>
              
              <li>
                <a href="/ja/guides/azure/">Azure WindowsへDatadog Agentのインストール</a>
              </li>
              
              <li>
                <a href="/ja/guides/monitors/">Monitor(監視)機能の設定ガイド</a>
              </li>
              
              <li>
                <a href="/ja/guides/templating/">ダッシュボードのテンプレートの作成方法</a>
              </li>
              
              <li>
                <a href="/ja/guides/eventsemail/">メールによるイベント情報の送信</a>
              </li>
              
          </ul>
        </li>
        <li class="dropdown">
          <a id="nav-reference-dropdown" href="#" role="button" class="dropdown-toggle" data-toggle="dropdown">レファレンス <b class="caret"></b></a>
          <ul class="dropdown-menu dropdown-menu-left" role="menu" aria-labelledby="nav-guide-dropdown">
            <li><a href="/ja/api/">APIレファレンス</a></li>
            <li><a href="/ja/tracing/">Tracing (APM)</a></li>
            <li><a href="/ja/libraries/">APIライブラリー</a></li>
            <li><a href="/ja/monitoring/">アラート設定</a></li>
            <li><a href="/ja/graphing/">グラフ表示入門</a></li>
            <li><a href="/graphingjson/">JSONを使ったグラフの設定</a></li>
            <li><a href="/ja/hostnames/">ホスト名について</a></li>
            <li><a href="/ja/integrations/">インテグレーション</a></li>
            <li><a href="/ja/guides/dogstatsd/">DogStatsDの解説</a></li>
            <li><a href="/ja/examples/">サンプルコード</a></li>
            <li><a href="/ja/videos/">ビデオ</a></li>
            <li><a href="/ja/guides/billing/">課金に関するFAQ</a></li>
            <li><a href="/ja/faq/">FAQ</a></li>
          </ul>
        </li>
        
        <li><a href="/ja/help/">お問い合わせ</a></li>
        <li id="signin">
          <a class="btn navbar-btn flexbutton blueflex" href="https://app.datadoghq.com/signup">無料体験</a>
        </li>
        <li id="signup">
          <a class="btn navbar-btn flexbutton" href="https://help.datadoghq.com/hc/en-us/signin?return_to=https%3A%2F%2Fhelp.datadoghq.com%2Fhc%2Fen-us&locale=1">サポートログイン</a>
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- END HEADER -->

    <div class="container">
      <div class="row">
      
        <!-- SIDEBAR -->
        <div class="col-sm-3 col-md-3 hidden-xs hidden-print" id="sidebarcolumn">
          <ul class="nav nav-tabs nav-stacked sidebar">
          
            <li class='nav-header'>Table of Contents</li><li><a style='' href='#overview' onclick="$('#').collapse('show')">
Overview</a></li><li><a style='' href='#adding-tests' onclick="$('#').collapse('show')">
Adding Tests</a></li><li><a style='padding: 5px 25px;' href='#datadog-integrations' onclick="$('#').collapse('show')">
Datadog Integrations</a></li><li><a style='padding: 5px 25px;' href='#datadog-agent-checks' onclick="$('#').collapse('show')">
Datadog Agent Checks</a></li><li><a style='' href='#the-agentchecktest-class' onclick="$('#').collapse('show')">
The AgentCheckTest Class</a></li><li><a style='padding: 5px 25px;' href='#test-and-check-status-methods' onclick="$('#').collapse('show')">
Test and Check Status Methods</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#coveragereport' onclick="$('#').collapse('show')">
coverage_report()
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#printcurrentstate' onclick="$('#').collapse('show')">
print_current_state()
</a></li><li><a style='padding: 5px 25px;' href='#run-checks-methods' onclick="$('#').collapse('show')">
Run Checks Methods</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#runcheckconfig-agentconfignone-mocksnone-forcereloadfalse' onclick="$('#').collapse('show')">
run_check(config, agent_config=None, mocks=None, force_reload=False)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#runchecktwiceconfig-agentconfignone-mocksnone-forcereloadfalse' onclick="$('#').collapse('show')">
run_check_twice(config, agent_config=None, mocks=None, force_reload=False)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#runchecknconfig-agentconfignone-mocksnone-forcereloadfalse-repeat1-sleep1' onclick="$('#').collapse('show')">
run_check_n(config, agent_config=None, mocks=None, force_reload=False, repeat=1, sleep=1)
</a></li><li><a style='padding: 5px 25px;' href='#metric-methods' onclick="$('#').collapse('show')">
Metric Methods</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertmetricmetricname-valuenone-tagsnone-countnone-atleast1-hostnamenone-devicenamenone-metrictypenone' onclick="$('#').collapse('show')">
assertMetric(metric_name, value=None, tags=None, count=None, at_least=1, hostname=None, device_name=None, metric_type=None)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertmetrictagprefixmetricname-tagprefix-countnone-atleast1' onclick="$('#').collapse('show')">
assertMetricTagPrefix(metric_name, tag_prefix, count=None, at_least=1)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertmetrictagmetricname-tag-countnone-atleast1' onclick="$('#').collapse('show')">
assertMetricTag(metric_name, tag, count=None, at_least=1)
</a></li><li><a style='padding: 5px 25px;' href='#service-methods' onclick="$('#').collapse('show')">
Service Methods</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertservicemetadatametakeys-countnone-atleast1' onclick="$('#').collapse('show')">
assertServiceMetadata(meta_keys, count=None, at_least=1)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertservicecheckservicecheckname-statusnone-tagsnone-countnone-atleast1' onclick="$('#').collapse('show')">
assertServiceCheck(service_check_name, status=None, tags=None, count=None, at_least=1)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertservicecheckokservicecheckname-tagsnone-countnone-atleast1' onclick="$('#').collapse('show')">
assertServiceCheckOK(service_check_name, tags=None, count=None, at_least=1)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertservicecheckwarningservicecheckname-tagsnone-countnone-atleast1' onclick="$('#').collapse('show')">
assertServiceCheckWarning(service_check_name, tags=None, count=None, at_least=1)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertservicecheckcriticalservicecheckname-tagsnone-countnone-atleast1' onclick="$('#').collapse('show')">
assertServiceCheckCritical(service_check_name, tags=None, count=None, at_least=1)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertservicecheckunknownservicecheckname-tagsnone-countnone-atleast1' onclick="$('#').collapse('show')">
assertServiceCheckUnknown(service_check_name, tags=None, count=None, at_least=1)
</a></li><li><a style='padding: 5px 25px;' href='#event-method' onclick="$('#').collapse('show')">
Event Method</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#asserteventmsgtext-countnone-atleast1-exactmatchtrue-tagsnone-kwargs' onclick="$('#').collapse('show')">
assertEvent(msg_text, count=None, at_least=1, exact_match=True, tags=None, **kwargs)
</a></li><li><a style='padding: 5px 25px;' href='#warning-method' onclick="$('#').collapse('show')">
Warning Method</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertwarningwarning-countnone-atleast1-exactmatchtrue' onclick="$('#').collapse('show')">
assertWarning(warning, count=None, at_least=1, exact_match=True)
</a></li><li><a style='padding: 5px 25px;' href='#helper-methods' onclick="$('#').collapse('show')">
Helper Methods</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertinfirst-second' onclick="$('#').collapse('show')">
assertIn(first, second)
</a></li><li><a style='padding: 3px 35px;font-size:13px;' href='#assertnotinfirst-second' onclick="$('#').collapse('show')">
assertNotIn(first, second)
</a></li><li><a style='' href='#examples' onclick="$('#').collapse('show')">
Examples</a></li><li><a style='padding: 5px 25px;' href='#datadog-integrations-1' onclick="$('#').collapse('show')">
Datadog Integrations</a></li><li><a style='padding: 5px 25px;' href='#datadog-agent-checks-1' onclick="$('#').collapse('show')">
Datadog Agent Checks</a></li>
            
            
              <li class="nav-header">ガイド </li>
              
              
                <li><a href="/ja/overview/">Datadogが提供するサービスの概要</a></li>
              
                <li><a href="/ja/guides/basic_agent_usage/">Datadog Agent 入門</a></li>
              
                <li><a href="/ja/guides/metrics/">DogStatsD を使った、メトリクスの送信</a></li>
              
                <li><a href="/ja/guides/logs/">Datadog Agent によるログの解析方法</a></li>
              
                <li><a href="/ja/guides/hostmap/">Host Map表示の入門</a></li>
              
                <li><a href="/ja/guides/agent_checks/">Agent Checkの書き方</a></li>
              
                <li><a href="/ja/guides/azure/">Azure WindowsへDatadog Agentのインストール</a></li>
              
                <li><a href="/ja/guides/monitors/">Monitor(監視)機能の設定ガイド</a></li>
              
                <li><a href="/ja/guides/templating/">ダッシュボードのテンプレートの作成方法</a></li>
              
                <li><a href="/ja/guides/eventsemail/">メールによるイベント情報の送信</a></li>
              
            
          </ul>
        &nbsp;
        </div>
        <!-- END SIDEBAR -->
        
        <!-- MAIN -->
        <div class="col-xs-12 col-sm-9 col-md-9 main">
          <!-- PAGE TITLE -->
          
          <h1 id="pagetitle">Testing Integrations </h1>
          
          
          <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<div class="alert alert-info">
<strong>NOTICE:</strong> アクセスいただきありがとうございます。こちらのページは現在英語のみのご用意となっております。引き続き日本語化の範囲を広げてまいりますので、皆様のご理解のほどよろしくお願いいたします。</div>

<style>
.func-p{margin-left:20px;}
.func-code{margin-left:40px;}
</style>

<h3 id="overview" class="linked-header">
<a class="header-link" href="#overview"><i class="fa fa-link"></i></a>Overview</h3>

<p>Automated unit tests help ensure that your integration is working as designed and guard against regression.</p>

<p>Though we don’t require tests for each metric collected, we strongly encourage you to provide as much coverage as possible.</p>

<h3 id="adding-tests" class="linked-header">
<a class="header-link" href="#adding-tests"><i class="fa fa-link"></i></a>Adding Tests</h3>

<p>Tests can be easily added by extending the <code>AgentCheckTest</code> class. Additionally, you may import Attributes from Nose to manage requirements.</p>

<pre><code>from nose.plugins.attrib import attr
from tests.checks.common import AgentCheckTest

@attr(requires='network')
class HTTPCheckTest(AgentCheckTest)`
  ...
</code></pre>

<h4 id="datadog-integrations" class="linked-header">
<a class="header-link" href="#datadog-integrations"><i class="fa fa-link"></i></a>Datadog Integrations</h4>

<p>To test integrations, add your test code to the <code>test_[integration_name].py</code> file in your integration directory. <a href="/guides/integration_sdk/#testing-your-integration">Creating New Integrations</a> for more details.</p>

<h4 id="datadog-agent-checks" class="linked-header">
<a class="header-link" href="#datadog-agent-checks"><i class="fa fa-link"></i></a>Datadog Agent Checks</h4>

<p>If you are submitting your Agent Check as a Pull Request to be included with the Datadog Agent, please reference the <a href="https://github.com/DataDog/dd-agent/blob/master/tests/README.md"><code>README.md</code> in the dd-agent repository</a>.</p>

<h3 id="the-agentchecktest-class" class="linked-header">
<a class="header-link" href="#the-agentchecktest-class"><i class="fa fa-link"></i></a>The AgentCheckTest Class</h3>

<p>The following test methods are provided by the <code>AgentCheckTest</code> class. For more details about the class, please reference the <a href="https://github.com/DataDog/dd-agent/blob/master/tests/checks/common.py">source code</a>.</p>

<h4 id="test-and-check-status-methods" class="linked-header">
<a class="header-link" href="#test-and-check-status-methods"><i class="fa fa-link"></i></a>Test and Check Status Methods</h4>

<h5 id="coveragereport" class="linked-header">
<a class="header-link" href="#coveragereport"><i class="fa fa-link"></i></a><code>coverage_report()</code>
</h5>

<p class="func-p">Prints the test coverage status of metrics, events, service checks and service metadata. Also lists items for each that lack test coverage.</p>

<h5 id="printcurrentstate" class="linked-header">
<a class="header-link" href="#printcurrentstate"><i class="fa fa-link"></i></a><code>print_current_state()</code>
</h5>

<p class="func-p">Prints a report of the metrics, events, service checks, service metadata and warnings provided by the integration.</p>

<h4 id="run-checks-methods" class="linked-header">
<a class="header-link" href="#run-checks-methods"><i class="fa fa-link"></i></a>Run Checks Methods</h4>

<h5 id="runcheckconfig-agentconfignone-mocksnone-forcereloadfalse" class="linked-header">
<a class="header-link" href="#runcheckconfig-agentconfignone-mocksnone-forcereloadfalse"><i class="fa fa-link"></i></a><code>run_check(config, agent_config=None, mocks=None, force_reload=False)</code>
</h5>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>config</strong> (<em>dictionary</em>) – A check configuration dictionary containing an array of <code>instances</code>. For example:</li>
</ul>

<pre class="func-code"><code>{
    'instances': [
        {
            'name': 'simple_config',
            'url': 'http://httpbin.org',
        }
    ]
}
</code></pre>

<ul>
  <li>
<strong>agent_config</strong> (<em>dictionary</em>) – A customized Datadog agent configuration.</li>
  <li>
<strong>mocks</strong> (<em>dictionary</em>) – A dictionary keyed by method name (string) with values of method. For example:</li>
</ul>

<pre class="func-code"><code>{
    'get_services_in_cluster': self.mock_get_services_in_cluster,
    'get_nodes_with_service': self.mock_get_nodes_with_service,
}
</code></pre>

<ul>
  <li>
<strong>force_reload</strong> (<em>boolean</em>) – Reload the check before running it.</li>
</ul>

<h5 id="runchecktwiceconfig-agentconfignone-mocksnone-forcereloadfalse" class="linked-header">
<a class="header-link" href="#runchecktwiceconfig-agentconfignone-mocksnone-forcereloadfalse"><i class="fa fa-link"></i></a><code>run_check_twice(config, agent_config=None, mocks=None, force_reload=False)</code>
</h5>

<p class="func-p">Similar to <code>run_check</code>, this method will run the check twice with a 1 second delay between runs.</p>

<h5 id="runchecknconfig-agentconfignone-mocksnone-forcereloadfalse-repeat1-sleep1" class="linked-header">
<a class="header-link" href="#runchecknconfig-agentconfignone-mocksnone-forcereloadfalse-repeat1-sleep1"><i class="fa fa-link"></i></a><code>run_check_n(config, agent_config=None, mocks=None, force_reload=False, repeat=1, sleep=1)</code>
</h5>

<p class="func-p">Similar to <code>run_check</code>, this method will run the check multiple times.</p>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>repeat</strong> (<em>integer</em>) – The number of times the check will run.</li>
  <li>
<strong>sleep</strong> (<em>integer</em>) – The delay in seconds between check runs.</li>
</ul>

<h4 id="metric-methods" class="linked-header">
<a class="header-link" href="#metric-methods"><i class="fa fa-link"></i></a>Metric Methods</h4>

<h5 id="assertmetricmetricname-valuenone-tagsnone-countnone-atleast1-hostnamenone-devicenamenone-metrictypenone" class="linked-header">
<a class="header-link" href="#assertmetricmetricname-valuenone-tagsnone-countnone-atleast1-hostnamenone-devicenamenone-metrictypenone"><i class="fa fa-link"></i></a><code>assertMetric(metric_name, value=None, tags=None, count=None, at_least=1, hostname=None, device_name=None, metric_type=None)</code>
</h5>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>metric_name</strong> (<em>string</em>) – The name of the metric.</li>
  <li>
<strong>value</strong> (<em>variable</em>) – The value for the metric.</li>
  <li>
<strong>tags</strong> (<em>list of strings</em>) – The tags associated with the metric.</li>
  <li>
<strong>count</strong> (<em>integer</em>) – The number of candidate metrics the assertion should test for. Typical values are:
    <ul>
      <li>
<code>None</code>: will not test for the count</li>
      <li>
<code>1</code>: tests for exactly one metric</li>
      <li>
<code>0</code>: tests for no matches (works as a negation)</li>
    </ul>
  </li>
  <li>
<strong>at_least</strong> (<em>integer</em>) – The minimum number of candidate metrics the assertion should test for.</li>
  <li>
<strong>hostname</strong> (<em>string</em>) – The name of the host associated with the metric.</li>
  <li>
<strong>device_name</strong> (<em>string</em>) – The name of the device associated with the metric.</li>
  <li>
<strong>metric_type</strong> (<em>string</em>) – The type of metric to test for. If set, it must be one of <code>gauge</code>, <code>counter</code>, <code>rate</code>, or <code>count</code> as defined by the <a href="https://github.com/DataDog/dd-agent/blob/master/checks/metric_types.py">checks metric types</a>.</li>
</ul>

<h5 id="assertmetrictagprefixmetricname-tagprefix-countnone-atleast1" class="linked-header">
<a class="header-link" href="#assertmetrictagprefixmetricname-tagprefix-countnone-atleast1"><i class="fa fa-link"></i></a><code>assertMetricTagPrefix(metric_name, tag_prefix, count=None, at_least=1)</code>
</h5>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>metric_name</strong> (<em>string</em>) – The name of the metric.</li>
  <li>
<strong>tag_prefix</strong> (<em>string</em>) – Match metrics with tags that begin with this string.</li>
  <li>
<strong>count</strong> (<em>integer</em>) – The number of data points the assertion should test for.</li>
  <li>
<strong>at_least</strong> (<em>integer</em>) – The minimum number of data points the assertion should test for.</li>
</ul>

<h5 id="assertmetrictagmetricname-tag-countnone-atleast1" class="linked-header">
<a class="header-link" href="#assertmetrictagmetricname-tag-countnone-atleast1"><i class="fa fa-link"></i></a><code>assertMetricTag(metric_name, tag, count=None, at_least=1)</code>
</h5>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>metric_name</strong> (<em>string</em>) – The name of the metric.</li>
  <li>
<strong>tag</strong> (<em>string</em>) – The tag associated with the metric.</li>
  <li>
<strong>count</strong> (<em>integer</em>) – The number of data points the assertion should test for.</li>
  <li>
<strong>at_least</strong> (<em>integer</em>) – The minimum number of data points the assertion should test for.</li>
</ul>

<h4 id="service-methods" class="linked-header">
<a class="header-link" href="#service-methods"><i class="fa fa-link"></i></a>Service Methods</h4>

<h5 id="assertservicemetadatametakeys-countnone-atleast1" class="linked-header">
<a class="header-link" href="#assertservicemetadatametakeys-countnone-atleast1"><i class="fa fa-link"></i></a><code>assertServiceMetadata(meta_keys, count=None, at_least=1)</code>
</h5>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>meta_keys</strong> (<em>list of strings</em>) – A list of metadata keys.</li>
  <li>
<strong>count</strong> (<em>integer</em>) – The number of candidate metrics the assertion should test for. Typical values are:
    <ul>
      <li>
<code>None</code>: will not test for the count</li>
      <li>
<code>1</code>: tests for exactly one metric</li>
      <li>
<code>0</code>: tests for no matches (works as a negation)</li>
    </ul>
  </li>
  <li>
<strong>at_least</strong> (<em>integer</em>) – The minimum number of candidate metrics the assertion should test for.</li>
</ul>

<h5 id="assertservicecheckservicecheckname-statusnone-tagsnone-countnone-atleast1" class="linked-header">
<a class="header-link" href="#assertservicecheckservicecheckname-statusnone-tagsnone-countnone-atleast1"><i class="fa fa-link"></i></a><code>assertServiceCheck(service_check_name, status=None, tags=None, count=None, at_least=1)</code>
</h5>

<h5 id="assertservicecheckokservicecheckname-tagsnone-countnone-atleast1" class="linked-header">
<a class="header-link" href="#assertservicecheckokservicecheckname-tagsnone-countnone-atleast1"><i class="fa fa-link"></i></a><code>assertServiceCheckOK(service_check_name, tags=None, count=None, at_least=1)</code>
</h5>

<h5 id="assertservicecheckwarningservicecheckname-tagsnone-countnone-atleast1" class="linked-header">
<a class="header-link" href="#assertservicecheckwarningservicecheckname-tagsnone-countnone-atleast1"><i class="fa fa-link"></i></a><code>assertServiceCheckWarning(service_check_name, tags=None, count=None, at_least=1)</code>
</h5>

<h5 id="assertservicecheckcriticalservicecheckname-tagsnone-countnone-atleast1" class="linked-header">
<a class="header-link" href="#assertservicecheckcriticalservicecheckname-tagsnone-countnone-atleast1"><i class="fa fa-link"></i></a><code>assertServiceCheckCritical(service_check_name, tags=None, count=None, at_least=1)</code>
</h5>

<h5 id="assertservicecheckunknownservicecheckname-tagsnone-countnone-atleast1" class="linked-header">
<a class="header-link" href="#assertservicecheckunknownservicecheckname-tagsnone-countnone-atleast1"><i class="fa fa-link"></i></a><code>assertServiceCheckUnknown(service_check_name, tags=None, count=None, at_least=1)</code>
</h5>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>service_check_name</strong> (<em>string</em>) – The name of the service check.</li>
  <li>
<strong>tags</strong> (<em>list of strings</em>) – The tags associated with the service check.</li>
  <li>
<strong>count</strong> (<em>integer</em>) – The number of data points the assertion should test for.</li>
  <li>
<strong>at_least</strong> (<em>integer</em>) – The minimum number of data points the assertion should test for.</li>
</ul>

<h4 id="event-method" class="linked-header">
<a class="header-link" href="#event-method"><i class="fa fa-link"></i></a>Event Method</h4>

<h5 id="asserteventmsgtext-countnone-atleast1-exactmatchtrue-tagsnone-kwargs" class="linked-header">
<a class="header-link" href="#asserteventmsgtext-countnone-atleast1-exactmatchtrue-tagsnone-kwargs"><i class="fa fa-link"></i></a><code>assertEvent(msg_text, count=None, at_least=1, exact_match=True, tags=None, **kwargs)</code>
</h5>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>msg_text</strong> (<em>string</em>) – The event message text.</li>
  <li>
<strong>count</strong> (<em>integer</em>) – The number of candidate metrics the assertion should test for. Typical values are:
    <ul>
      <li>
<code>None</code>: will not test for the count</li>
      <li>
<code>1</code>: tests for exactly one metric</li>
      <li>
<code>0</code>: tests for no matches (works as a negation)</li>
    </ul>
  </li>
  <li>
<strong>at_least</strong> (<em>integer</em>) – The minimum number of candidate metrics the assertion should test for.</li>
  <li>
<strong>exact_match</strong> (<em>boolean</em>) – When true, the event message text must equal <code>msg_text</code>. When false, the event message text must contain <code>msg_text</code>.</li>
  <li>
<strong>tags</strong> (<em>list of strings</em>) – The tags associated with the event.</li>
  <li>
<strong>kwargs</strong> – Keyword arguments can be used to match additional event attributes.</li>
</ul>

<h4 id="warning-method" class="linked-header">
<a class="header-link" href="#warning-method"><i class="fa fa-link"></i></a>Warning Method</h4>

<h5 id="assertwarningwarning-countnone-atleast1-exactmatchtrue" class="linked-header">
<a class="header-link" href="#assertwarningwarning-countnone-atleast1-exactmatchtrue"><i class="fa fa-link"></i></a><code>assertWarning(warning, count=None, at_least=1, exact_match=True)</code>
</h5>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>warning</strong> (<em>string</em>) – The warning message text.</li>
  <li>
<strong>count</strong> (<em>integer</em>) – The number of candidate warnings the assertion should test for. Typical values are:
    <ul>
      <li>
<code>None</code>: will not test for the count</li>
      <li>
<code>1</code>: tests for exactly one warning</li>
      <li>
<code>0</code>: tests for no matches (works as a negation)</li>
    </ul>
  </li>
  <li>
<strong>at_least</strong> (<em>integer</em>) – The minimum number of candidate warnings the assertion should test for.</li>
  <li>
<strong>exact_match</strong> (<em>boolean</em>) – When true, the warning message text must equal <code>warning</code>. When false, the event message text must contain <code>warning</code>.</li>
</ul>

<h4 id="helper-methods" class="linked-header">
<a class="header-link" href="#helper-methods"><i class="fa fa-link"></i></a>Helper Methods</h4>

<p>The <code>AgentCheckTest</code> class provides some useful test methods that are not specifically related to Datadog metrics and events.</p>

<h5 id="assertinfirst-second" class="linked-header">
<a class="header-link" href="#assertinfirst-second"><i class="fa fa-link"></i></a><code>assertIn(first, second)</code>
</h5>

<h5 id="assertnotinfirst-second" class="linked-header">
<a class="header-link" href="#assertnotinfirst-second"><i class="fa fa-link"></i></a><code>assertNotIn(first, second)</code>
</h5>

<p class="func-p">These methods test if the first argument is contained in the second argument using Python’s <code>in</code> operator.</p>

<p class="func-p">Parameters:</p>

<ul>
  <li>
<strong>first</strong> (<em>multiple types</em>) – The “needle” data.</li>
  <li>
<strong>second</strong> (<em>multiple types</em>) – The “haystack” data.</li>
</ul>

<h3 id="examples" class="linked-header">
<a class="header-link" href="#examples"><i class="fa fa-link"></i></a>Examples</h3>

<h4 id="datadog-integrations-1" class="linked-header">
<a class="header-link" href="#datadog-integrations-1"><i class="fa fa-link"></i></a>Datadog Integrations</h4>

<p>For further examples of testing Datadog integrations, you can view the test files for <a href="https://github.com/DataDog/integrations-core">core integrations</a> such as the <a href="https://github.com/DataDog/integrations-core/blob/master/mysql/test_mysql.py"><code>test_mysql.py</code> file</a> for the MySQL integration.</p>

<h4 id="datadog-agent-checks-1" class="linked-header">
<a class="header-link" href="#datadog-agent-checks-1"><i class="fa fa-link"></i></a>Datadog Agent Checks</h4>

<p>For examples of Agent Check tests, you can view the test files for <a href="https://github.com/DataDog/dd-agent/tree/master/tests/checks/integration">agent checks</a> such as <a href="https://github.com/DataDog/integrations-core/blob/master/http_check/test_http_check.py"><code>test_http_check.py</code> file</a>.</p>
</body></html>


          
        </div>
      </div>
    </div>
    <div class="container">
  <div class="row" id="footer">
    <div class=".col-md-12">お困りの場合は、 <a href="/ja/help/">お気軽にお声がけ下さい。</a> &bull; ドキュメント内の不備を見つけた場合は、 <a href="https://github.com/DataDog/documentation/issues">ご連絡を頂けると助かります。</a></div>
    <div class=".col-md-12"><a href="/">Read the docs in English</a></div>
    <div class=".col-md-12">&copy; Datadog, Inc. All rights reserved.</div>
  </div>
</div>

    

        <script type="text/javascript">
      ;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];
      p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)
      };p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;
      n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,"script","https://don08600y3gfm.cloudfront.net/ps3b/static/js/plow232.js","snowplow"));
      window.snowplow('newTracker', 'co', 'collector.datadoghq.com', { // Initialise a tracker
      appId: 'datadog', // Application ID. Make sure you use the same value across all the tags you fire on your trial
      platform: 'web',
      cookieDomain: '.datadoghq.com',
      contexts: {
        performanceTiming: true,
        webPage: true
        }
      });
      window.snowplow('enableActivityTracking', 5, 5); // Ping every 30 seconds after 30 seconds
      window.snowplow('enableLinkClickTracking');
      window.snowplow('trackPageView');
    </script>

        <script type="text/javascript">
      (function() {
       var didInit = false;
       function initMunchkin() {
         if(didInit === false) {
           didInit = true;
           Munchkin.init('875-UVY-685');
         }
       }
       var s = document.createElement('script');
       s.type = 'text/javascript';
       s.async = true;
       s.src = '//munchkin.marketo.net/munchkin.js';
       s.onreadystatechange = function() {
         if (this.readyState == 'complete' || this.readyState == 'loaded') {
           initMunchkin();
         }
       };
       s.onload = initMunchkin;
       document.getElementsByTagName('head')[0].appendChild(s);
      })();
    </script>


    <!-- <script src="/static/jquery-1.7.2.min.js"></script> -->
<script src="/static/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch-set.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch_content.js"></script>
<script type="text/javascript" src="/tipuesearch/tipuesearch.js"></script>
<script src="/static/datadog-docs.js"></script>


    <!-- No page Javascript -->
  </body>
</html>


